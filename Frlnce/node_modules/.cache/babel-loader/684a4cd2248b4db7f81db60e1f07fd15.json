{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\product\\\\ProductDetails.jsx\";\nimport React, { Component } from \"react\";\nimport \"./ProductDetails.css\";\nimport { Container, Card, Button } from \"react-bootstrap\";\nimport swal from 'sweetalert';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport LearningSteps from '../learning/LearningSteps';\nimport ApiService from '../../_services/ApiService';\nimport Config from '../../_config/config';\n\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!Config.CURRENT_PORTLET) {\n      Config.CURRENT_PORTLET = JSON.parse(localStorage.getItem('portlet'));\n    }\n\n    this.state = {\n      product: this.props.location.state.product,\n      preOrderDetails: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.location.state.product);\n    console.log(\"Product : \", this.state.product);\n  }\n\n  routeChange(path) {\n    this.props.history.push(path);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-full-height page-product-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 6\n      }\n    }, this.renderHeader(), this.renderBody())));\n  }\n\n  renderHeader() {\n    var _this$state$product;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `ilearn-plain-header ${Config.CURRENT_PORTLET.class}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      onClick: this.props.history.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 4\n      }\n    }, (_this$state$product = this.state.product) === null || _this$state$product === void 0 ? void 0 : _this$state$product.name));\n  }\n\n  renderBody() {\n    console.log(\"ProductDetails -> renderBody()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.product.previewLearningModuleId ? this.renderLearningModule() : this.renderProduct());\n  }\n\n  renderProduct() {\n    console.log(\"ProductDetails -> renderProduct()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-padding-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"mx-auto\",\n      style: {\n        maxWidth: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Card.Img, {\n      top: true,\n      width: \"100%\",\n      src: this.state.product.imageUrl,\n      alt: \"Card image cap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 20\n      }\n    }, this.state.product.name)), /*#__PURE__*/React.createElement(Card.Text, {\n      dangerouslySetInnerHTML: {\n        __html: this.state.product.description\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 8\n      }\n    }), this.renderBuyNow()))));\n  }\n\n  renderBuyNow() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      className: \"btn btn-primary btn-lg btn-block\",\n      onClick: () => this.buyNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }, \"\\u20B9 \", this.state.product.cost, \" \\xA0 \\xA0 Buy Now\"));\n  }\n\n  renderLearningModule() {\n    console.log(\"ProductDetails -> renderLearningModule()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product_learning_module\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(LearningSteps, {\n      learnId: this.state.product.previewLearningModuleId,\n      lock: true,\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }), this.renderBuyNow()));\n  }\n\n  buyNow() {\n    console.log(\"ProductDetails -> buyNow()...\");\n    this.renderPreOrderAlert();\n    /*ApiService.preOrderProduct(this.state.product.id)\r\n              .then(res => {\r\n                  console.log(\"ProductDetails -> Pre Order Details : \"+JSON.stringify(res.data));\r\n    \t\tlet resp = res.data;\r\n    \t\tif(resp.result ==1 ) {\r\n    \t\t\tthis.renderPreOrderAlert(resp.data);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tconsole.log(\"Error : \"+resp.message);\r\n    \t\t}\r\n    \t\t\r\n              },\r\n              error => {\r\n    \t\tconsole.log(\"ProductDetails -> Pre Order Details, Connection Error : \"+Config.CONNECTION_ERROR);\r\n              }\r\n          );*/\n  }\n\n  renderPreOrderAlert() {\n    console.log(\"ProductDetails -> renderPreOrderAlert()...\");\n    swal({\n      title: \"CONFIRM\",\n      text: \"Product : \" + this.state.product.name + \"\\n Price : Rs. \" + this.state.product.cost,\n      buttons: ['CANCEL', 'MAKE PAYMENT'],\n      dangerMode: true,\n      className: 'PaymentConfirm'\n    }).then(resp => {\n      if (resp) {\n        // Yes else No\n        console.log(\"ProductDetails -> Redirect CCAvenue Page...\");\n        this.makePayment();\n      }\n    });\n  }\n  /*\r\n  renderPreOrderAlert(orderDetails) {\r\n  \tconsole.log(\"ProductDetails -> renderPreOrderAlert()...\");\r\n  \tswal({\r\n  \t\ttitle: \"ORDER DETAILS\",\r\n  \t\ttext: \"Order Id : \"+orderDetails.orderNumber+\"\\n Price : Rs. \"+orderDetails.amount ,\r\n  \t\tbuttons: ['CANCEL','MAKE PAYMENT'],\r\n  \t\tdangerMode: true,\r\n  \t\t})\r\n  \t\t.then(resp => { \r\n  \t\t\tif (resp) { // Yes else No\r\n  \t\t\t\tconsole.log(\"ProductDetails -> Redirect CCAvenue Page...\");\r\n  \t\t\t\tthis.redirectToPaymentGateway(orderDetails);\r\n  \t\t\t}\r\n  \t    });\r\n  }\r\n  \n  redirectToPaymentGateway(orderDetails) {\r\n  \t//var paymentGatewayUrl=\"http://icegateinstitute.studentdetails.com/icegateacademy/paymentgateway/ccavRequestHandler.jsp\";\r\n  \tlet paymentGatewayUrl=orderDetails.paymentGatewayURl;\r\n  \tpaymentGatewayUrl+=\"?merchant_id=\"+orderDetails.merchantId;\r\n  \tpaymentGatewayUrl+=\"&amount=\"+orderDetails.amount;\r\n  \tpaymentGatewayUrl+=\"&order_id=\"+orderDetails.orderNumber;\r\n  \tpaymentGatewayUrl+=\"&currency=INR\";\r\n  \tpaymentGatewayUrl+=\"&redirect_url=\"+orderDetails.redirectUrl;\r\n  \tpaymentGatewayUrl+=\"&cancel_url=\"+orderDetails.cancelUrl;\r\n  \tpaymentGatewayUrl+=\"&language=EN\";\r\n  \tpaymentGatewayUrl+=\"&workingKey=\"+orderDetails.workingKey;\r\n  \tpaymentGatewayUrl+=\"&accessCode=\"+orderDetails.accessCode;\r\n  \tpaymentGatewayUrl+=\"&merchant_param1=\"+orderDetails.productId;\r\n  \tpaymentGatewayUrl+=\"&merchant_param2=\"+orderDetails.verificationCode;\r\n  \tconsole.log(\"ProductDetails -> PaymentGateway URL : \"+paymentGatewayUrl);\r\n  \twindow.open(paymentGatewayUrl, '_blank', 'location=no');\r\n  }*/\n\n\n  makePayment() {\n    console.log(\"MakePayment -> makePayment() : \" + this.state.product.cost);\n    let instituteHomeLink = Config.siteUrl;\n\n    if (localStorage.getItem('instituteHomeLink') && localStorage.getItem('instituteHomeLink') !== 'undefined') {\n      instituteHomeLink = \"https://\" + localStorage.getItem('instituteHomeLink') + '/';\n    }\n\n    let paymentURL = instituteHomeLink + \"popup/mobilePayment.do?reqCode=makePayment&enquiryId=\" + localStorage.getItem('enquiryId') + \"&amountPaying=\" + this.state.product.cost + \"&productId=\" + this.state.product.id;\n    console.log(paymentURL);\n    window.open(paymentURL, '_blank', 'location=no');\n  }\n\n}\n\nexport { ProductDetails };","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/product/ProductDetails.jsx"],"names":["React","Component","Container","Card","Button","swal","FontAwesomeIcon","faArrowLeft","LearningSteps","ApiService","Config","ProductDetails","constructor","props","CURRENT_PORTLET","JSON","parse","localStorage","getItem","state","product","location","preOrderDetails","componentDidMount","console","log","routeChange","path","history","push","render","renderHeader","renderBody","class","goBack","name","previewLearningModuleId","renderLearningModule","renderProduct","maxWidth","imageUrl","__html","description","renderBuyNow","buyNow","cost","renderPreOrderAlert","title","text","buttons","dangerMode","className","then","resp","makePayment","instituteHomeLink","siteUrl","paymentURL","id","window","open"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./ProductDetails.css\";\r\nimport {Container, Card, Button} from \"react-bootstrap\";\r\nimport swal from 'sweetalert';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport LearningSteps from '../learning/LearningSteps'\r\nimport ApiService from '../../_services/ApiService';\r\nimport Config from '../../_config/config';\r\n\r\n\r\nclass ProductDetails extends Component {  \r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tif(!Config.CURRENT_PORTLET) {\r\n\t\t\tConfig.CURRENT_PORTLET = JSON.parse(localStorage.getItem('portlet'));\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tproduct:this.props.location.state.product,\r\n\t\t\tpreOrderDetails: null\r\n\t\t};\r\n\t}\r\n\r\n  \tcomponentDidMount() {\r\n\t\tconsole.log(this.props.location.state.product);\r\n\t\tconsole.log(\"Product : \", this.state.product);\r\n\t}\r\n\r\n  \trouteChange(path) {\r\n    \tthis.props.history.push(path);\r\n\t}\r\n\t  \r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"ilearn-full-height page-product-details\">\r\n\t\t\t\t\t<Container fluid>\r\n\t\t\t\t\t\t{this.renderHeader()}\r\n\t\t\t\t\t\t{this.renderBody()}         \r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\trenderHeader() {\r\n\t\treturn (\r\n\t\t  <div className={`ilearn-plain-header ${Config.CURRENT_PORTLET.class}`}>\r\n\t\t\t<div className=\"back\">\r\n\t\t\t  <FontAwesomeIcon icon={ faArrowLeft } onClick={this.props.history.goBack} />\r\n\t\t\t</div>\r\n\t\t\t<h4>{this.state.product?.name}</h4>\r\n\t\t  </div>\r\n\t\t);\r\n\t}\r\n\r\n\trenderBody() {\r\n\t\tconsole.log(\"ProductDetails -> renderBody()... \");\r\n\t\treturn (\r\n\t\t\t<> \r\n\t\t\t\t{ this.state.product.previewLearningModuleId ? \r\n\t\t\t\t\tthis.renderLearningModule() : \r\n\t\t\t\t\tthis.renderProduct() \r\n\t\t\t\t}\r\n\t\t\t</>\r\n\t\t);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\trenderProduct() {\r\n\t\tconsole.log(\"ProductDetails -> renderProduct()... \");\r\n\t\treturn  (\r\n\t\t\t<>\t\t\t\t\r\n\t\t\t\t<div className=\"ilearn-padding-top\">\r\n\t\t\t\t\t<Card className=\"mx-auto\" style={{ maxWidth: '50rem' }}>\r\n\t\t\t\t\t\t<Card.Img top width=\"100%\" src={this.state.product.imageUrl} alt=\"Card image cap\" />\r\n\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t<Card.Title><h4>{this.state.product.name}</h4></Card.Title>\r\n\t\t\t\t\t\t\t<Card.Text dangerouslySetInnerHTML={{__html:this.state.product.description}}></Card.Text>\r\n\t\t\t\t\t\t\t{this.renderBuyNow()}\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\t\r\n\t}\r\n\r\n\trenderBuyNow() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Button type=\"button\" className=\"btn btn-primary btn-lg btn-block\" \r\n\t\t\t\t\tonClick={() => this.buyNow()}>\r\n\t\t\t\t\t&#x20b9; {this.state.product.cost} &nbsp; &nbsp; Buy Now\r\n\t\t\t\t</Button>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n\r\n\trenderLearningModule() {\r\n\t\tconsole.log(\"ProductDetails -> renderLearningModule()... \");\r\n\t\treturn  (\r\n\t\t\t<>\r\n\t\t\t    <div className=\"product_learning_module\">\r\n\t\t\t\t\t<LearningSteps\r\n\t\t\t\t\t\tlearnId={this.state.product.previewLearningModuleId}\r\n\t\t\t\t\t\tlock={true}\r\n\t\t\t\t\t\thistory={this.props.history}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.renderBuyNow()}\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\t  \r\n\tbuyNow() {\r\n\t\tconsole.log(\"ProductDetails -> buyNow()...\");\r\n\t\tthis.renderPreOrderAlert();\r\n\t\t/*ApiService.preOrderProduct(this.state.product.id)\r\n            .then(res => {\r\n                console.log(\"ProductDetails -> Pre Order Details : \"+JSON.stringify(res.data));\r\n\t\t\t\tlet resp = res.data;\r\n\t\t\t\tif(resp.result ==1 ) {\r\n\t\t\t\t\tthis.renderPreOrderAlert(resp.data);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconsole.log(\"Error : \"+resp.message);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n            },\r\n            error => {\r\n\t\t\t\tconsole.log(\"ProductDetails -> Pre Order Details, Connection Error : \"+Config.CONNECTION_ERROR);\r\n            }\r\n        );*/\r\n\t\t\r\n\t}\r\n\r\n\trenderPreOrderAlert() {\r\n\t\tconsole.log(\"ProductDetails -> renderPreOrderAlert()...\");\r\n\t\tswal({\r\n\t\t\ttitle: \"CONFIRM\",\r\n\t\t\ttext: \"Product : \"+this.state.product.name+\"\\n Price : Rs. \"+this.state.product.cost ,\r\n\t\t\tbuttons: ['CANCEL','MAKE PAYMENT'],\r\n\t\t\tdangerMode: true,\r\n\t\t\tclassName: 'PaymentConfirm'\r\n\t\t\t})\r\n\t\t\t.then(resp => { \r\n\t\t\t\tif (resp) { // Yes else No\r\n\t\t\t\t\tconsole.log(\"ProductDetails -> Redirect CCAvenue Page...\");\r\n\t\t\t\t\tthis.makePayment();\r\n\t\t\t\t}\r\n\t\t    });\r\n\t}\r\n\r\n\t/*\r\n\trenderPreOrderAlert(orderDetails) {\r\n\t\tconsole.log(\"ProductDetails -> renderPreOrderAlert()...\");\r\n\t\tswal({\r\n\t\t\ttitle: \"ORDER DETAILS\",\r\n\t\t\ttext: \"Order Id : \"+orderDetails.orderNumber+\"\\n Price : Rs. \"+orderDetails.amount ,\r\n\t\t\tbuttons: ['CANCEL','MAKE PAYMENT'],\r\n\t\t\tdangerMode: true,\r\n\t\t\t})\r\n\t\t\t.then(resp => { \r\n\t\t\t\tif (resp) { // Yes else No\r\n\t\t\t\t\tconsole.log(\"ProductDetails -> Redirect CCAvenue Page...\");\r\n\t\t\t\t\tthis.redirectToPaymentGateway(orderDetails);\r\n\t\t\t\t}\r\n\t\t    });\r\n\t}\r\n\r\n\tredirectToPaymentGateway(orderDetails) {\r\n\t\t//var paymentGatewayUrl=\"http://icegateinstitute.studentdetails.com/icegateacademy/paymentgateway/ccavRequestHandler.jsp\";\r\n\t\tlet paymentGatewayUrl=orderDetails.paymentGatewayURl;\r\n\t\tpaymentGatewayUrl+=\"?merchant_id=\"+orderDetails.merchantId;\r\n\t\tpaymentGatewayUrl+=\"&amount=\"+orderDetails.amount;\r\n\t\tpaymentGatewayUrl+=\"&order_id=\"+orderDetails.orderNumber;\r\n\t\tpaymentGatewayUrl+=\"&currency=INR\";\r\n\t\tpaymentGatewayUrl+=\"&redirect_url=\"+orderDetails.redirectUrl;\r\n\t\tpaymentGatewayUrl+=\"&cancel_url=\"+orderDetails.cancelUrl;\r\n\t\tpaymentGatewayUrl+=\"&language=EN\";\r\n\t\tpaymentGatewayUrl+=\"&workingKey=\"+orderDetails.workingKey;\r\n\t\tpaymentGatewayUrl+=\"&accessCode=\"+orderDetails.accessCode;\r\n\t\tpaymentGatewayUrl+=\"&merchant_param1=\"+orderDetails.productId;\r\n\t\tpaymentGatewayUrl+=\"&merchant_param2=\"+orderDetails.verificationCode;\r\n\t\tconsole.log(\"ProductDetails -> PaymentGateway URL : \"+paymentGatewayUrl);\r\n\t\twindow.open(paymentGatewayUrl, '_blank', 'location=no');\r\n\t}*/\r\n\r\n\tmakePayment() {\r\n\t\tconsole.log(\"MakePayment -> makePayment() : \"+this.state.product.cost);\r\n\t\tlet instituteHomeLink = Config.siteUrl; \r\n\t\tif(localStorage.getItem('instituteHomeLink') && localStorage.getItem('instituteHomeLink')!=='undefined'){\r\n\t\t\tinstituteHomeLink = \"https://\"+ localStorage.getItem('instituteHomeLink') +'/';\r\n\t\t}\r\n\t\tlet paymentURL = instituteHomeLink +\"popup/mobilePayment.do?reqCode=makePayment&enquiryId=\"+localStorage.getItem('enquiryId')+\"&amountPaying=\"+this.state.product.cost+\"&productId=\"+this.state.product.id;\r\n\t\tconsole.log(paymentURL);\r\n\t\twindow.open(paymentURL, '_blank', 'location=no');\r\n    }\r\n  \r\n}\r\n  \r\nexport {ProductDetails};\r\n"]},"metadata":{},"sourceType":"module"}