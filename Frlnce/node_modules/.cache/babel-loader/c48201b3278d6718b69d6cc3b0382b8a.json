{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\discussion\\\\AddTopic.jsx\";\nimport React, { Component } from \"react\";\nimport \"./discussion.css\";\nimport { Container, Form, Row, Col } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport ApiService from \"../../_services/ApiService\";\nimport UserService from \"../../_services/UserService\";\nimport CKEditor from 'ckeditor4-react';\nimport { ILoader } from './../../_components/iloader/iloader';\n\nclass AddTopic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateInput = e => {\n      let v = e.target.value;\n      let k = e.target.name;\n      let commentDetails = { ...this.state.commentDetails\n      };\n      commentDetails[k] = v;\n      this.setState({\n        commentDetails\n      });\n    };\n\n    this.updateEditor = e => {\n      const v = e.editor.getData();\n      const k = \"content\";\n      let commentDetails = { ...this.state.commentDetails\n      };\n      commentDetails[k] = v;\n      this.setState({\n        commentDetails\n      }); //console.log(this.state)\n    };\n\n    this.toggleLoading = () => {\n      console.log(\"AddTopic -> toggleLoading()... \");\n      this.setState(state => ({\n        showLoading: !state.showLoading\n      }));\n    };\n\n    console.log(\"AddTopic -> constructor()... \");\n    this.state = {\n      message: null,\n      showLoading: false,\n      discussionBoard: null,\n      commentDetails: {\n        id: 0,\n        title: '',\n        content: ''\n      },\n      errorMessage: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"AddTopic -> componentDidMount()... \"); //this.init();\n  }\n\n  render() {\n    console.log(\"AddTopic -> render()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-full-height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, this.renderHeader(), this.renderBody(), this.renderLoader())), this.renderFooter());\n  }\n\n  renderHeader() {\n    console.log(\"AddTopic -> renderHeader()... \");\n    let CURRENT_PORTLET = JSON.parse(localStorage['portlet']);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `ilearn-plain-header ${CURRENT_PORTLET.class}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      onClick: this.props.history.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, \"Ask a question\"));\n  }\n\n  renderBody() {\n    console.log(\"AddTopic -> renderBody()... \");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-padding-top ilearn-padding-both-sides\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"subject\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, \"Subject\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Enter subject\",\n      name: \"title\",\n      onChange: this.updateInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"question\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"Question\"), /*#__PURE__*/React.createElement(CKEditor, {\n      name: \"content\",\n      placeholder: \"Compose message\",\n      data: this.state.commentDetails.content,\n      onChange: this.updateEditor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }))), this.state.errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, this.state.errorMessage));\n  }\n\n  renderFooter() {\n    console.log(\"AddTopic -> renderFooter()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"ilearn-footer-col ilearn-blue-btn\",\n      onClick: () => this.createTopic(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn ilearn-blue-btn ilearn-footer-btn btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, \"Post\"), \" \\xA0\", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faPaperPlane,\n      size: \"lg\",\n      color: \"#fff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }))))));\n  }\n\n  renderLoader() {\n    console.log(\"AddTopic -> renderLoader()... \");\n    const _loadingText = 'Please wait...';\n    return /*#__PURE__*/React.createElement(ILoader, {\n      loadingText: _loadingText,\n      isShow: this.state.showLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    });\n  }\n\n  createTopic() {\n    console.log(\"AddTopic -> createTopic()... \");\n    let {\n      commentDetails\n    } = this.state;\n\n    if (commentDetails.title && commentDetails.content) {\n      commentDetails.userId = UserService.getUserId();\n      commentDetails.enquiryId = UserService.getEnquiryId();\n      commentDetails.discussionBoardId = this.props.location.state.discussionBoardId;\n      console.log(\"AddTopic -> createTopic : \" + JSON.stringify(commentDetails));\n      this.setState({\n        showLoading: true\n      }, () => {\n        ApiService.addTopic(commentDetails).then(res => {\n          console.log(\"AddTopic -> createTopic(); res : \" + JSON.stringify(res));\n          this.setState({\n            showLoading: false\n          });\n          this.props.history.goBack();\n        });\n      });\n    } else {\n      this.setState({\n        errorMessage: 'All fields are mandatory.'\n      });\n    }\n  }\n\n  toggleView(view) {\n    this.setState(state => ({\n      view: view\n    }));\n  }\n\n}\n\nexport { AddTopic };","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/discussion/AddTopic.jsx"],"names":["React","Component","Container","Form","Row","Col","FontAwesomeIcon","faArrowLeft","faPaperPlane","ApiService","UserService","CKEditor","ILoader","AddTopic","constructor","props","updateInput","e","v","target","value","k","name","commentDetails","state","setState","updateEditor","editor","getData","toggleLoading","console","log","showLoading","message","discussionBoard","id","title","content","errorMessage","componentDidMount","render","renderHeader","renderBody","renderLoader","renderFooter","CURRENT_PORTLET","JSON","parse","localStorage","class","history","goBack","createTopic","_loadingText","userId","getUserId","enquiryId","getEnquiryId","discussionBoardId","location","stringify","addTopic","then","res","toggleView","view"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,kBAAP;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,QAA0C,iBAA1C;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAAyC,mCAAzC;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAAQC,OAAR,QAAsB,qCAAtB;;AAEA,MAAMC,QAAN,SAAuBZ,SAAvB,CAAiC;AAEhCa,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACZ,UAAMA,KAAN;;AADY,SAkHhBC,WAlHgB,GAkHDC,CAAD,IAAM;AAChB,UAAIC,CAAC,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAjB;AACA,UAAIC,CAAC,GAAGJ,CAAC,CAACE,MAAF,CAASG,IAAjB;AACA,UAAIC,cAAc,GAAG,EAAC,GAAG,KAAKC,KAAL,CAAWD;AAAf,OAArB;AACAA,MAAAA,cAAc,CAACF,CAAD,CAAd,GAAoBH,CAApB;AACA,WAAKO,QAAL,CAAc;AAACF,QAAAA;AAAD,OAAd;AACH,KAxHe;;AAAA,SA0HhBG,YA1HgB,GA0HAT,CAAD,IAAO;AAClB,YAAMC,CAAC,GAAGD,CAAC,CAACU,MAAF,CAASC,OAAT,EAAV;AACA,YAAMP,CAAC,GAAG,SAAV;AACA,UAAIE,cAAc,GAAG,EAAC,GAAG,KAAKC,KAAL,CAAWD;AAAf,OAArB;AACAA,MAAAA,cAAc,CAACF,CAAD,CAAd,GAAoBH,CAApB;AACA,WAAKO,QAAL,CAAc;AAACF,QAAAA;AAAD,OAAd,EALkB,CAMlB;AACH,KAjIe;;AAAA,SA+JhBM,aA/JgB,GA+JA,MAAM;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACA,WAAKN,QAAL,CAAcD,KAAK,KAAK;AAAEQ,QAAAA,WAAW,EAAE,CAACR,KAAK,CAACQ;AAAtB,OAAL,CAAnB;AACH,KAlKe;;AAEZF,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,SAAKP,KAAL,GAAa;AACTS,MAAAA,OAAO,EAAE,IADA;AAETD,MAAAA,WAAW,EAAE,KAFJ;AAGTE,MAAAA,eAAe,EAAE,IAHR;AAITX,MAAAA,cAAc,EAAC;AACXY,QAAAA,EAAE,EAAE,CADO;AAEXC,QAAAA,KAAK,EAAE,EAFI;AAGXC,QAAAA,OAAO,EAAE;AAHE,OAJN;AASTC,MAAAA,YAAY,EAAE;AATL,KAAb;AAWH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBT,IAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EADgB,CAEhB;AACH;;AAEDS,EAAAA,MAAM,GAAG;AACLV,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,wBACI,uDACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKU,YAAL,EADL,EAEK,KAAKC,UAAL,EAFL,EAGK,KAAKC,YAAL,EAHL,CADJ,CADJ,EAQK,KAAKC,YAAL,EARL,CADJ;AAaH;;AAEDH,EAAAA,YAAY,GAAG;AACXX,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,QAAIc,eAAe,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAAC,SAAD,CAAvB,CAAtB;AACA,wBACI;AAAK,MAAA,SAAS,EAAG,uBAAsBH,eAAe,CAACI,KAAM,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAG1C,WAAxB;AAAsC,MAAA,OAAO,EAAE,KAAKQ,KAAL,CAAWmC,OAAX,CAAmBC,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,CADJ;AAQH;;AAEDT,EAAAA,UAAU,GAAG;AACTZ,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACD,wBACK;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,IAAI,EAAC,MAAnB;AAA0B,MAAA,WAAW,EAAC,eAAtC;AACA,MAAA,IAAI,EAAC,OADL;AACa,MAAA,QAAQ,EAAE,KAAKf,WAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAMI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,SAAS,EAAC,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,oBAAC,QAAD;AACI,MAAA,IAAI,EAAC,SADT;AAEI,MAAA,WAAW,EAAC,iBAFhB;AAGI,MAAA,IAAI,EAAE,KAAKQ,KAAL,CAAWD,cAAX,CAA0Bc,OAHpC;AAII,MAAA,QAAQ,EAAE,KAAKX,YAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CANJ,CADJ,EAkBQ,KAAKF,KAAL,CAAWc,YAAX,iBACA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKd,KAAL,CAAWc,YADhB,CAnBR,CADL;AA0BF;;AAEDM,EAAAA,YAAY,GAAG;AACXd,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,wBACI,uDAGA;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,GAAD;AAAK,MAAA,SAAS,EAAC,mCAAf;AAAmD,MAAA,OAAO,EAAE,MAAM,KAAKqB,WAAL,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,iDAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,wBAEI,oBAAC,eAAD;AAAiB,MAAA,IAAI,EAAG5C,YAAxB;AAAwC,MAAA,IAAI,EAAG,IAA/C;AAAoD,MAAA,KAAK,EAAC,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ,CADJ,CAHA,CADJ;AAiBH;;AAEDmC,EAAAA,YAAY,GAAG;AACXb,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACA,UAAMsB,YAAY,GAAG,gBAArB;AACA,wBACI,oBAAC,OAAD;AACI,MAAA,WAAW,EAAEA,YADjB;AAEI,MAAA,MAAM,EAAE,KAAK7B,KAAL,CAAWQ,WAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAOH;;AAmBDoB,EAAAA,WAAW,GAAG;AACVtB,IAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,QAAI;AAAER,MAAAA;AAAF,QAAqB,KAAKC,KAA9B;;AACA,QAAID,cAAc,CAACa,KAAf,IAAwBb,cAAc,CAACc,OAA3C,EAAoD;AAChDd,MAAAA,cAAc,CAAC+B,MAAf,GAAwB5C,WAAW,CAAC6C,SAAZ,EAAxB;AACAhC,MAAAA,cAAc,CAACiC,SAAf,GAA2B9C,WAAW,CAAC+C,YAAZ,EAA3B;AACAlC,MAAAA,cAAc,CAACmC,iBAAf,GAAmC,KAAK3C,KAAL,CAAW4C,QAAX,CAAoBnC,KAApB,CAA0BkC,iBAA7D;AACA5B,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAA6Be,IAAI,CAACc,SAAL,CAAerC,cAAf,CAAzC;AACA,WAAKE,QAAL,CAAc;AAAEO,QAAAA,WAAW,EAAE;AAAf,OAAd,EAAqC,MAAM;AACvCvB,QAAAA,UAAU,CAACoD,QAAX,CAAoBtC,cAApB,EACCuC,IADD,CACOC,GAAD,IAAS;AACbjC,UAAAA,OAAO,CAACC,GAAR,CAAY,sCAAoCe,IAAI,CAACc,SAAL,CAAeG,GAAf,CAAhD;AACA,eAAKtC,QAAL,CAAc;AACZO,YAAAA,WAAW,EAAE;AADD,WAAd;AAGA,eAAKjB,KAAL,CAAWmC,OAAX,CAAmBC,MAAnB;AACD,SAPD;AAQH,OATD;AAUH,KAfD,MAgBK;AACD,WAAK1B,QAAL,CAAc;AAAEa,QAAAA,YAAY,EAAC;AAAf,OAAd;AACH;AACJ;;AAED0B,EAAAA,UAAU,CAACC,IAAD,EAAO;AACb,SAAKxC,QAAL,CAAcD,KAAK,KAAK;AAAEyC,MAAAA,IAAI,EAAEA;AAAR,KAAL,CAAnB;AACH;;AA/J4B;;AA0KjC,SAAQpD,QAAR","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./discussion.css\";\r\nimport { Container, Form, Row, Col } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft, faPaperPlane} from '@fortawesome/free-solid-svg-icons';\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport UserService from \"../../_services/UserService\";\r\nimport CKEditor from 'ckeditor4-react';\r\nimport {ILoader} from './../../_components/iloader/iloader';\r\n\r\nclass AddTopic extends Component { \r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n        console.log(\"AddTopic -> constructor()... \");\r\n        this.state = {\r\n            message: null,\r\n            showLoading: false,\r\n            discussionBoard: null,\r\n            commentDetails:{\r\n                id: 0,\r\n                title: '',\r\n                content: ''\r\n            },\r\n            errorMessage: null\r\n        };\r\n    }\r\n    \r\n    componentDidMount() {\r\n        console.log(\"AddTopic -> componentDidMount()... \");\r\n        //this.init();\r\n    }\r\n    \r\n    render() {\r\n        console.log(\"AddTopic -> render()... \");        \r\n        return (  \r\n            <>\r\n                <div className=\"ilearn-full-height\">\r\n                    <Container fluid >\r\n                        {this.renderHeader()}\r\n                        {this.renderBody()}\r\n                        {this.renderLoader()}                    \r\n                    </Container>\r\n                </div>\r\n                {this.renderFooter()}\r\n            </>           \r\n              \r\n        );\r\n    }\r\n\r\n    renderHeader() {\r\n        console.log(\"AddTopic -> renderHeader()... \");\r\n        let CURRENT_PORTLET = JSON.parse(localStorage['portlet']);\r\n        return (\r\n            <div className={`ilearn-plain-header ${CURRENT_PORTLET.class}`}>\r\n                <div className=\"back\">\r\n                <FontAwesomeIcon icon={ faArrowLeft } onClick={this.props.history.goBack} />\r\n                </div>\r\n                <h4>Ask a question</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderBody() {\r\n        console.log(\"AddTopic -> renderBody()... \");\r\n       return  (\r\n            <div className=\"ilearn-padding-top ilearn-padding-both-sides\">\r\n                <Form>\r\n                    <Form.Group controlId=\"subject\">\r\n                        <Form.Label>Subject</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Enter subject\" \r\n                        name=\"title\" onChange={this.updateInput} />\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"question\">\r\n                        <Form.Label>Question</Form.Label>\r\n                        <CKEditor\r\n                            name=\"content\"\r\n                            placeholder=\"Compose message\"\r\n                            data={this.state.commentDetails.content}\r\n                            onChange={this.updateEditor}\r\n                        />\r\n                    </Form.Group>\r\n                </Form>\r\n                {\r\n                    this.state.errorMessage &&                 \r\n                    <div className=\"error-message\">\r\n                        {this.state.errorMessage}\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderFooter() {\r\n        console.log(\"AddTopic -> renderFooter()... \");\r\n        return ( \r\n            <>\r\n            {\r\n            \r\n            <div className=\"ilearn-footer\">                    \r\n                <Row>\r\n                    <Col className=\"ilearn-footer-col ilearn-blue-btn\" onClick={() => this.createTopic()}>\r\n                        <button className=\"btn ilearn-blue-btn ilearn-footer-btn btn-block\" > \r\n                            <b>Post</b> &nbsp;\r\n                            <FontAwesomeIcon icon={ faPaperPlane }  size = 'lg' color='#fff'/>  \r\n                        </button>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n    \r\n    renderLoader() {\r\n        console.log(\"AddTopic -> renderLoader()... \");\r\n        const _loadingText = 'Please wait...';\r\n        return (\r\n            <ILoader\r\n                loadingText={_loadingText}\r\n                isShow={this.state.showLoading}\r\n                >\r\n            </ILoader>\r\n        )\r\n    }\r\n\r\n    updateInput = (e) =>{\r\n        let v = e.target.value;\r\n        let k = e.target.name;\r\n        let commentDetails = {...this.state.commentDetails}\r\n        commentDetails[k] = v;\r\n        this.setState({commentDetails});\r\n    }\r\n\r\n    updateEditor = (e) => {\r\n        const v = e.editor.getData();\r\n        const k = \"content\";\r\n        let commentDetails = {...this.state.commentDetails}\r\n        commentDetails[k] = v;\r\n        this.setState({commentDetails});\r\n        //console.log(this.state)\r\n    }\r\n    \r\n    createTopic() {\r\n        console.log(\"AddTopic -> createTopic()... \");\r\n        let { commentDetails } = this.state;\r\n        if (commentDetails.title && commentDetails.content) {\r\n            commentDetails.userId = UserService.getUserId();\r\n            commentDetails.enquiryId = UserService.getEnquiryId();\r\n            commentDetails.discussionBoardId = this.props.location.state.discussionBoardId;               \r\n            console.log(\"AddTopic -> createTopic : \"+JSON.stringify(commentDetails));\r\n            this.setState({ showLoading: true }, () => {\r\n                ApiService.addTopic(commentDetails)\r\n                .then((res) => {\r\n                  console.log(\"AddTopic -> createTopic(); res : \"+JSON.stringify(res));\r\n                  this.setState({\r\n                    showLoading: false\r\n                  });\r\n                  this.props.history.goBack();\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            this.setState({ errorMessage:'All fields are mandatory.' });    \r\n        }\r\n    }\r\n\r\n    toggleView(view) {\r\n        this.setState(state => ({ view: view }));    \r\n    }\r\n\r\n    toggleLoading = () => {\r\n        console.log(\"AddTopic -> toggleLoading()... \");\r\n        this.setState(state => ({ showLoading: !state.showLoading }));\r\n    };\r\n\r\n}\r\n\r\n\r\n  \r\nexport {AddTopic};"]},"metadata":{},"sourceType":"module"}