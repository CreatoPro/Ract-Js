{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\payments\\\\makePayment.jsx\";\nimport React, { Component } from \"react\";\nimport \"./payments.css\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport Form from \"react-bootstrap/Form\";\nimport { ILoader } from '../../_components/iloader/iloader';\nimport swal from 'sweetalert';\nimport Config from '../../_config/config';\n\nclass MakePayment extends Component {\n  constructor(props) {\n    var _this$props$location$, _this$props$location$2, _this$props$location$3;\n\n    super(props);\n\n    this.updateInput = e => {\n      const v = e.target.value;\n      const k = e.target.name;\n      this.setState({\n        k: v\n      });\n    };\n\n    console.log(\"MakePayment -> constructor()... \");\n\n    if (!Config.CURRENT_PORTLET) {\n      Config.CURRENT_PORTLET = JSON.parse(localStorage.getItem('portlet'));\n    }\n\n    this.state = {\n      message: null,\n      showLoading: false,\n      paymentDetail: this.props.location.state.paymentDetail,\n      amountPaying: parseFloat((_this$props$location$ = this.props.location.state) === null || _this$props$location$ === void 0 ? void 0 : (_this$props$location$2 = _this$props$location$.paymentDetail) === null || _this$props$location$2 === void 0 ? void 0 : (_this$props$location$3 = _this$props$location$2.currentOutstandingWithTaxRounded) === null || _this$props$location$3 === void 0 ? void 0 : _this$props$location$3.replace(/,/g, ''))\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"MakePayment -> componentDidMount()... \");\n  }\n\n  render() {\n    console.log(\"MakePayment -> render()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-full-height page-payments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }, this.renderHeader(), this.renderBody(), this.renderLoader())), this.renderFooter());\n  }\n\n  renderHeader() {\n    console.log(\"MakePayment -> renderHeader()... \");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `ilearn-plain-header ${Config.CURRENT_PORTLET.class}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      onClick: this.props.history.goBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Make Payment\"));\n  }\n\n  renderBody() {\n    console.log(\"MakePayment -> renderBody()... \");\n    let paymentDetail = this.state.paymentDetail;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-padding-top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item payment-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-block \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }\n    }, \"Total Outstanding\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'contents'\n      },\n      dangerouslySetInnerHTML: {\n        __html: `${paymentDetail === null || paymentDetail === void 0 ? void 0 : paymentDetail.symbol}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 67\n      }\n    }), paymentDetail.totalOutstandingWithTaxRounded)))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item payment-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-block \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, \"Current Outstanding\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'contents'\n      },\n      dangerouslySetInnerHTML: {\n        __html: `${paymentDetail === null || paymentDetail === void 0 ? void 0 : paymentDetail.symbol}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 67\n      }\n    }), paymentDetail.currentOutstandingWithTaxRounded)))), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item payment-detail-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-block \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-item-inner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, \"Amount Paying\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      placeholder: \"Amount\",\n      name: \"amountPaying\",\n      defaultValue: this.state.amountPaying,\n      onChange: this.updateInput,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    })))))));\n  }\n\n  renderFooter() {\n    console.log(\"MakePayment -> renderFooter()... \");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.amountPaying && this.state.amountPaying > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ilearn-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"ilearn-footer-col ilearn-blue-btn\",\n      onClick: () => this.makePayment(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn ilearn-blue-btn ilearn-footer-btn btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, \"Make Payment\"))))));\n  }\n\n  renderLoader() {\n    console.log(\"MakePayment -> renderLoader()... \");\n    const _loadingText = 'Please wait...';\n    return /*#__PURE__*/React.createElement(ILoader, {\n      loadingText: _loadingText,\n      isShow: this.state.showLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    });\n  }\n\n  makePayment() {\n    console.log(\"MakePayment -> makePayment() : \" + this.state.amountPaying);\n\n    if (parseInt(this.state.amountPaying) <= 0) {\n      this.showAlert(\"Alert\", \"Amount must be greater than 0.\");\n    } else if (parseInt(this.state.amountPaying) < parseFloat(this.state.paymentDetail.currentOutstandingWithTaxRounded.replace(/,/g, ''))) {\n      this.showAlert(\"Alert\", \"Amount cannot be less than current outstanding.\");\n    } else if (parseInt(this.state.amountPaying) > parseFloat(this.state.paymentDetail.totalOutstandingWithTaxRounded.replace(/,/g, ''))) {\n      this.showAlert(\"Alert\", \"Amount cannot be more than total outstanding.\");\n    } else {\n      let paymentURL = Config.siteUrl + \"popup/paymentGateway.do?reqCode=preCollectPaymentFromStudentPortal&enrollmentId=\" + this.state.paymentDetail.enrollmentId + \"&receiptSeriesId=\" + this.state.paymentDetail.receiptSeriesId;\n      this.openBrowser(paymentURL);\n    }\n  }\n\n  showAlert(title, message) {\n    swal({\n      title: title,\n      text: message,\n      //icon: \"success\",\n      button: \"OK\"\n    }).then(value => {\n      console.log(\"Ok Clicked...\");\n    });\n  }\n\n  openBrowser(paymentGatewayUrl) {\n    window.open(paymentGatewayUrl, '_blank', 'location=no');\n  }\n\n}\n\nexport { MakePayment };","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/payments/makePayment.jsx"],"names":["React","Component","Container","Row","Col","FontAwesomeIcon","faArrowLeft","Form","ILoader","swal","Config","MakePayment","constructor","props","updateInput","e","v","target","value","k","name","setState","console","log","CURRENT_PORTLET","JSON","parse","localStorage","getItem","state","message","showLoading","paymentDetail","location","amountPaying","parseFloat","currentOutstandingWithTaxRounded","replace","componentDidMount","render","renderHeader","renderBody","renderLoader","renderFooter","class","history","goBack","display","__html","symbol","totalOutstandingWithTaxRounded","makePayment","_loadingText","parseInt","showAlert","paymentURL","siteUrl","enrollmentId","receiptSeriesId","openBrowser","title","text","button","then","paymentGatewayUrl","window","open"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./payments.css\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport Form from \"react-bootstrap/Form\";\r\nimport {ILoader} from '../../_components/iloader/iloader';\r\nimport swal from 'sweetalert';\r\nimport Config from '../../_config/config'\r\n\r\nclass MakePayment extends Component { \r\n\r\n\tconstructor(props) {\r\n        super(props);\r\n        console.log(\"MakePayment -> constructor()... \");\r\n        if(!Config.CURRENT_PORTLET) {\r\n            Config.CURRENT_PORTLET = JSON.parse(localStorage.getItem('portlet'));\r\n        }\r\n        this.state = {\r\n            message: null,\r\n            showLoading: false,\r\n            paymentDetail : this.props.location.state.paymentDetail,\r\n            amountPaying : parseFloat(this.props.location.state?.paymentDetail?.currentOutstandingWithTaxRounded?.replace(/,/g, ''))\r\n        };\r\n    }\r\n    \r\n    componentDidMount() {\r\n        console.log(\"MakePayment -> componentDidMount()... \");\r\n    }\r\n    \r\n    render() {\r\n        console.log(\"MakePayment -> render()... \");        \r\n        return (  \r\n            <>\r\n                <div className=\"ilearn-full-height page-payments\">\r\n                    <Container fluid >\r\n                        {this.renderHeader()}\r\n                        {this.renderBody()}\r\n                        {this.renderLoader()}                    \r\n                    </Container>\r\n                </div>\r\n                {this.renderFooter()}\r\n            </>           \r\n              \r\n        );\r\n    }\r\n\r\n    renderHeader() {\r\n        console.log(\"MakePayment -> renderHeader()... \");\r\n        return (\r\n            <div className={`ilearn-plain-header ${Config.CURRENT_PORTLET.class}`}>\r\n                <div className=\"back\">\r\n                <FontAwesomeIcon icon={ faArrowLeft } onClick={this.props.history.goBack} />\r\n                </div>\r\n                <h4>Make Payment</h4>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    renderBody() {\r\n        console.log(\"MakePayment -> renderBody()... \");\r\n        let paymentDetail = this.state.paymentDetail;\r\n        return (\r\n            <>\r\n                <div className=\"ilearn-padding-top\">\r\n                    <ul className=\"list-group\">\r\n                        <li className=\"list-group-item payment-detail-item\" >\r\n                            <div className=\"ilearn-item-block \">\r\n                                <div className=\"ilearn-item-inner\">\r\n                                    <span>Total Outstanding</span>\r\n                                    <span className=\"float-right\"><div style={{display: 'contents'}} dangerouslySetInnerHTML={{__html: `${paymentDetail?.symbol}`}} />{paymentDetail.totalOutstandingWithTaxRounded}</span>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"list-group-item payment-detail-item\" >\r\n                            <div className=\"ilearn-item-block \">\r\n                                <div className=\"ilearn-item-inner\">\r\n                                    <span>Current Outstanding</span>\r\n                                    <span className=\"float-right\"><div style={{display: 'contents'}} dangerouslySetInnerHTML={{__html: `${paymentDetail?.symbol}`}} />{paymentDetail.currentOutstandingWithTaxRounded}</span>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li className=\"list-group-item payment-detail-item\" >\r\n                            <div className=\"ilearn-item-block \">\r\n                                <div className=\"ilearn-item-inner\">\r\n                                    <span>Amount Paying</span>\r\n                                    <Form.Control type=\"text\" placeholder=\"Amount\" name=\"amountPaying\" defaultValue={this.state.amountPaying} onChange={this.updateInput}/>                         \r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </>\r\n        );        \r\n    }\r\n    \r\n    renderFooter() {\r\n        console.log(\"MakePayment -> renderFooter()... \");\r\n        return ( \r\n            <>\r\n            {\r\n            this.state.amountPaying && this.state.amountPaying > 0 && \r\n            <div className=\"ilearn-footer\">                    \r\n                <Row>\r\n                    <Col className=\"ilearn-footer-col ilearn-blue-btn\" onClick={() => this.makePayment()}>\r\n                        <button className=\"btn ilearn-blue-btn ilearn-footer-btn btn-block\" > \r\n                            <b>Make Payment</b> \r\n                        </button>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n            }\r\n            </>\r\n        );\r\n    }\r\n    \r\n    renderLoader() {\r\n        console.log(\"MakePayment -> renderLoader()... \");\r\n        const _loadingText = 'Please wait...';\r\n        return (\r\n            <ILoader\r\n                loadingText={_loadingText}\r\n                isShow={this.state.showLoading}\r\n                >\r\n            </ILoader>\r\n        )\r\n    }\r\n\r\n    updateInput = (e) => {\r\n        const v = e.target.value;\r\n        const k = e.target.name;\r\n        this.setState({k:v});\r\n    }\r\n\r\n    makePayment() {\r\n        console.log(\"MakePayment -> makePayment() : \"+this.state.amountPaying);\r\n        if(parseInt(this.state.amountPaying)<=0) {\r\n          this.showAlert(\"Alert\", \"Amount must be greater than 0.\");\r\n        }\r\n        else if(parseInt(this.state.amountPaying) < parseFloat(this.state.paymentDetail.currentOutstandingWithTaxRounded.replace(/,/g, ''))) {\r\n          this.showAlert(\"Alert\", \"Amount cannot be less than current outstanding.\");\r\n        }\r\n        else if(parseInt(this.state.amountPaying) > parseFloat(this.state.paymentDetail.totalOutstandingWithTaxRounded.replace(/,/g, ''))) {\r\n          this.showAlert(\"Alert\", \"Amount cannot be more than total outstanding.\");\r\n        }\r\n        else {\r\n            let paymentURL = Config.siteUrl+\"popup/paymentGateway.do?reqCode=preCollectPaymentFromStudentPortal&enrollmentId=\"+this.state.paymentDetail.enrollmentId+\"&receiptSeriesId=\"+this.state.paymentDetail.receiptSeriesId;\r\n            this.openBrowser(paymentURL);\r\n        }\r\n    }\r\n\r\n    showAlert(title, message) {\r\n        swal({\r\n            title: title,\r\n            text: message,\r\n            //icon: \"success\",\r\n            button: \"OK\",\r\n          })\r\n          .then((value) => {\r\n            console.log(\"Ok Clicked...\");\r\n        }); \r\n    }\r\n\r\n    openBrowser(paymentGatewayUrl) {\r\n        window.open(paymentGatewayUrl, '_blank', 'location=no');\r\n    }\r\n\r\n}\r\n\r\n\r\n  \r\nexport {MakePayment};"]},"metadata":{},"sourceType":"module"}