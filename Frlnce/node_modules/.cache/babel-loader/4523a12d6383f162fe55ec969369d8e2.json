{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\test\\\\test-details.component.js\";\nimport React from \"react\";\nimport ApiService from \"../../_services/ApiService\";\nimport Config from \"../../_config/config\";\nimport Loader from \"./../../_components/loader/loader\";\nimport { ReactComponent as UnsatLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!./images/unsat.svg\";\nimport { ReactComponent as UnacademyLogo } from \"@svgr/webpack?-svgo,+titleProp,+ref!./images/unacademy.svg\";\nimport \"./test-details.styles.css\";\n\nclass TestDetails extends React.Component {\n  constructor() {\n    super();\n\n    this.fetchTestResult = async () => {\n      const user = JSON.parse(localStorage.getItem(\"user\"));\n      const {\n        mobileNumber\n      } = user;\n      console.log(mobileNumber);\n\n      try {\n        var _res$data, _res$data2;\n\n        this.setState({\n          showLoading: true\n        });\n        const res = await ApiService.testResultsUrls(mobileNumber);\n        console.log(res); // const {status} = res.data;\n\n        const {\n          launchTestId\n        } = ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data) || {};\n\n        if (launchTestId) {\n          this.props.history.push({\n            pathname: `/test-result/null/${launchTestId}`,\n            state: {\n              resultUrl: res.data.data\n            }\n          });\n        } else if (((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.data.status) === \"View Result\") {\n          var _res$data3, _res$data3$data;\n\n          this.props.history.push(`/test-result/null/${(_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$data = _res$data3.data) === null || _res$data3$data === void 0 ? void 0 : _res$data3$data.launchTestId}`);\n        }\n      } catch (err) {\n        this.setState({\n          error: \"No Result Found\"\n        });\n        console.log(err);\n      }\n    };\n\n    this.fetchtestData = async () => {\n      try {\n        var _res$data4, _res$data6, _res$data6$data, _res$data7, _res$data7$data;\n\n        this.setState({\n          showLoading: true\n        });\n        const res = await ApiService.fetchTestDetails();\n        console.log(res);\n\n        if (((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.data.status) === \"View Result\") {\n          var _res$data5, _res$data5$data;\n\n          this.props.history.push(`/test-result/null/${(_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : (_res$data5$data = _res$data5.data) === null || _res$data5$data === void 0 ? void 0 : _res$data5$data.launchTestId}`);\n        }\n\n        sessionStorage.setItem(\"testDate\", JSON.stringify((_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : (_res$data6$data = _res$data6.data) === null || _res$data6$data === void 0 ? void 0 : _res$data6$data.TestDateString));\n        sessionStorage.setItem(\"testTime\", JSON.stringify((_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : (_res$data7$data = _res$data7.data) === null || _res$data7$data === void 0 ? void 0 : _res$data7$data.TestTimeString));\n        this.setState({\n          testDetails: res.data.data || {},\n          showLoading: false\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.openTest = testId => {\n      window.open(`/TestInstructions/${testId}`, \"Start Test\", \"height=\" + window.screen.height + \",width=\" + window.screen.width);\n    };\n\n    this.printAmitCard = url => {\n      const Userdata = JSON.parse(localStorage.getItem(\"user\"));\n      const {\n        token\n      } = Userdata;\n      window.open(`${Config.siteUrl}${url.substring(1)}&token=${token}`);\n    };\n\n    this.logout = () => {\n      this.props.history.push({\n        pathname: \"/logout\",\n        state: {\n          redirectRoute: \"/loginwithmobile\"\n        }\n      });\n    };\n\n    this.state = {\n      testDetails: {},\n      showLoading: false,\n      error: \"\"\n    };\n  }\n\n  async componentDidMount() {\n    var _this$props$location;\n\n    await this.fetchTestResult();\n    console.log(\"here\");\n    const {\n      testDetails\n    } = ((_this$props$location = this.props.location) === null || _this$props$location === void 0 ? void 0 : _this$props$location.state) || {};\n\n    if (testDetails) {\n      console.log(testDetails, \"here\");\n\n      if (testDetails.status === \"View Result\") {\n        console.log(\"here\");\n        this.props.history.push(`/test-result/null/${testDetails.launchTestId}`);\n      }\n\n      sessionStorage.setItem(\"testDate\", JSON.stringify(testDetails === null || testDetails === void 0 ? void 0 : testDetails.TestDateString));\n      sessionStorage.setItem(\"testTime\", JSON.stringify(testDetails === null || testDetails === void 0 ? void 0 : testDetails.TestTimeString));\n      this.setState({\n        testDetails,\n        showLoading: false\n      });\n    } else {\n      this.fetchtestData();\n    }\n  }\n\n  render() {\n    // const Userdata = JSON.parse(localStorage.getItem(\"user\"));\n    // const { enquiryName,username } = Userdata;\n    const {\n      testDetails,\n      error\n    } = this.state;\n    return this.state.showLoading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, \"Not you? \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-logout\",\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"Logout\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-logo-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(UnacademyLogo, {\n      className: \"test-details-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(UnsatLogo, {\n      className: \"test-details-logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    })), this.state.error ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"test-details-heading-2 test-details-center-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, error)) : !testDetails.admissionDetails ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"test-details-heading-2 test-details-center-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, testDetails.admissionDetailsMsg, \" \")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"test-details-heading-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, \"Your test details: \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, \"Test: \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, testDetails.TestName)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Format: \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, testDetails.Format)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"Date: \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, testDetails.TestDateString)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, \"Time: \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, testDetails.TestTimeString)), testDetails.AdmitCardEnabled ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 19\n      }\n    }, \"Admit Card No:\", \" \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, testDetails.AdmitCardNumber)) : null, testDetails.AdmitCardEnabled ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-heading-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, \"Venue: \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"test-details-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }, testDetails.Venue)) : null), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"test-details-button-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, testDetails.AdmitCardEnabled ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.props.history.push({\n        pathname: \"/admitcard\",\n        state: {\n          testDetails\n        }\n      }),\n      className: \"btn btn-success btn-lg test-details-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, \"Print Admit Card\") : null, testDetails.Format === \"Online\" ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => testDetails.buttonEnableStatus ? this.openTest(testDetails.launchTestId) : null,\n      className: \"btn btn-primary btn-lg test-details-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, testDetails.status) : null)));\n  }\n\n}\n\nexport default TestDetails;","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/test/test-details.component.js"],"names":["React","ApiService","Config","Loader","TestDetails","Component","constructor","fetchTestResult","user","JSON","parse","localStorage","getItem","mobileNumber","console","log","setState","showLoading","res","testResultsUrls","launchTestId","data","props","history","push","pathname","state","resultUrl","status","err","error","fetchtestData","fetchTestDetails","sessionStorage","setItem","stringify","TestDateString","TestTimeString","testDetails","openTest","testId","window","open","screen","height","width","printAmitCard","url","Userdata","token","siteUrl","substring","logout","redirectRoute","componentDidMount","location","render","admissionDetails","admissionDetailsMsg","TestName","Format","AdmitCardEnabled","AdmitCardNumber","Venue","buttonEnableStatus"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport Config from \"../../_config/config\";\r\nimport Loader from \"./../../_components/loader/loader\";\r\nimport { ReactComponent as UnsatLogo } from \"./images/unsat.svg\";\r\nimport { ReactComponent as UnacademyLogo } from \"./images/unacademy.svg\";\r\nimport \"./test-details.styles.css\";\r\n\r\nclass TestDetails extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      testDetails: {},\r\n      showLoading: false,\r\n      error: \"\",\r\n    };\r\n  }\r\n  async componentDidMount() {\r\n    await this.fetchTestResult();\r\n    console.log(\"here\");\r\n    const { testDetails } = this.props.location?.state || {};\r\n    if (testDetails) {\r\n      console.log(testDetails, \"here\");\r\n      if (testDetails.status === \"View Result\") {\r\n        console.log(\"here\");\r\n        this.props.history.push(\r\n          `/test-result/null/${testDetails.launchTestId}`\r\n        );\r\n      }\r\n      sessionStorage.setItem(\r\n        \"testDate\",\r\n        JSON.stringify(testDetails?.TestDateString)\r\n      );\r\n      sessionStorage.setItem(\r\n        \"testTime\",\r\n        JSON.stringify(testDetails?.TestTimeString)\r\n      );\r\n      this.setState({ testDetails, showLoading: false });\r\n    } else {\r\n      this.fetchtestData();\r\n    }\r\n  }\r\n\r\n  fetchTestResult = async () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    const { mobileNumber } = user;\r\n    console.log(mobileNumber);\r\n    try {\r\n      this.setState({ showLoading: true });\r\n      const res = await ApiService.testResultsUrls(mobileNumber);\r\n      console.log(res);\r\n      // const {status} = res.data;\r\n      const { launchTestId } = res.data?.data || {};\r\n      if (launchTestId) {\r\n        this.props.history.push({\r\n          pathname: `/test-result/null/${launchTestId}`,\r\n          state: {\r\n            resultUrl: res.data.data,\r\n          },\r\n        });\r\n      } else if (res.data?.data.status === \"View Result\") {\r\n        this.props.history.push(\r\n          `/test-result/null/${res.data?.data?.launchTestId}`\r\n        );\r\n      }\r\n    } catch (err) {\r\n      this.setState({ error: \"No Result Found\" });\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  fetchtestData = async () => {\r\n    try {\r\n      this.setState({ showLoading: true });\r\n      const res = await ApiService.fetchTestDetails();\r\n      console.log(res);\r\n      if (res.data?.data.status === \"View Result\") {\r\n        this.props.history.push(\r\n          `/test-result/null/${res.data?.data?.launchTestId}`\r\n        );\r\n      }\r\n      sessionStorage.setItem(\r\n        \"testDate\",\r\n        JSON.stringify(res.data?.data?.TestDateString)\r\n      );\r\n      sessionStorage.setItem(\r\n        \"testTime\",\r\n        JSON.stringify(res.data?.data?.TestTimeString)\r\n      );\r\n      this.setState({ testDetails: res.data.data || {}, showLoading: false });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  openTest = (testId) => {\r\n    window.open(\r\n      `/TestInstructions/${testId}`,\r\n      \"Start Test\",\r\n      \"height=\" + window.screen.height + \",width=\" + window.screen.width\r\n    );\r\n  };\r\n\r\n  printAmitCard = (url) => {\r\n    const Userdata = JSON.parse(localStorage.getItem(\"user\"));\r\n    const { token } = Userdata;\r\n    window.open(`${Config.siteUrl}${url.substring(1)}&token=${token}`);\r\n  };\r\n\r\n  logout = () => {\r\n    this.props.history.push({\r\n      pathname: \"/logout\",\r\n      state: { redirectRoute: \"/loginwithmobile\" },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // const Userdata = JSON.parse(localStorage.getItem(\"user\"));\r\n    // const { enquiryName,username } = Userdata;\r\n    const { testDetails, error } = this.state;\r\n    return this.state.showLoading ? (\r\n      <Loader />\r\n    ) : (\r\n      <div className=\"test-details-container\">\r\n        <div className=\"test-details-nav\">\r\n          <span className=\"test-details-nav-item\">\r\n            <span>Not you? </span>\r\n            <span className=\"test-details-logout\" onClick={this.logout}>\r\n              Logout\r\n            </span>\r\n          </span>\r\n        </div>\r\n        <div className=\"test-details-logo-container\">\r\n          <UnacademyLogo className=\"test-details-logo\" />\r\n          <UnsatLogo className=\"test-details-logo\" />\r\n        </div>\r\n        {/* <h1 className=\"test-details-heading-1\">\r\n          Welcome to {Config.siteTitle.toUpperCase()}, <span className=\"test-details-fancy\">{enquiryName||username}</span>\r\n        </h1> */}\r\n        {this.state.error ? (\r\n          <div className=\"test-details-div\">\r\n            <h3 className=\"test-details-heading-2 test-details-center-text\">\r\n              {error}\r\n            </h3>\r\n          </div>\r\n        ) : !testDetails.admissionDetails ? (\r\n          <div className=\"test-details-div\">\r\n            <h3 className=\"test-details-heading-2 test-details-center-text\">\r\n              {testDetails.admissionDetailsMsg}{\" \"}\r\n            </h3>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <h3 className=\"test-details-heading-2\">Your test details: </h3>\r\n            <div className=\"test-details-div-wrapper\">\r\n              <div className=\"test-details-div\">\r\n                <span className=\"test-details-heading-3\">Test: </span>\r\n                <span className=\"test-details-description\">\r\n                  {testDetails.TestName}\r\n                </span>\r\n              </div>\r\n              <div className=\"test-details-div\">\r\n                <span className=\"test-details-heading-3\">Format: </span>\r\n                <span className=\"test-details-description\">\r\n                  {testDetails.Format}\r\n                </span>\r\n              </div>\r\n              <div className=\"test-details-div\">\r\n                <span className=\"test-details-heading-3\">Date: </span>\r\n                <span className=\"test-details-description\">\r\n                  {testDetails.TestDateString}\r\n                </span>\r\n              </div>\r\n              <div className=\"test-details-div\">\r\n                <span className=\"test-details-heading-3\">Time: </span>\r\n                <span className=\"test-details-description\">\r\n                  {testDetails.TestTimeString}\r\n                </span>\r\n              </div>\r\n              {testDetails.AdmitCardEnabled ? (\r\n                <div className=\"test-details-div\">\r\n                  <span className=\"test-details-heading-3\">\r\n                    Admit Card No:{\" \"}\r\n                  </span>\r\n                  <span className=\"test-details-description\">\r\n                    {testDetails.AdmitCardNumber}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n              {/* <div className=\"test-details-div\">\r\n                <span className=\"test-details-heading-3\">School Name: </span>\r\n                <span className=\"test-details-description\">\r\n                  {testDetails.SchoolName}\r\n                </span>\r\n              </div> */}\r\n              {testDetails.AdmitCardEnabled ? (\r\n                <div className=\"test-details-div\">\r\n                  <span className=\"test-details-heading-3\">Venue: </span>\r\n                  <span className=\"test-details-description\">\r\n                    {testDetails.Venue}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n            <div className=\"test-details-button-wrapper\">\r\n              {testDetails.AdmitCardEnabled ? (\r\n                <button\r\n                  onClick={() =>\r\n                    this.props.history.push({\r\n                      pathname: \"/admitcard\",\r\n                      state: { testDetails },\r\n                    })\r\n                  }\r\n                  className=\"btn btn-success btn-lg test-details-button\"\r\n                >\r\n                  Print Admit Card\r\n                </button>\r\n              ) : null}\r\n              {testDetails.Format === \"Online\" ? (\r\n                <button\r\n                  onClick={() =>\r\n                    testDetails.buttonEnableStatus\r\n                      ? this.openTest(testDetails.launchTestId)\r\n                      : null\r\n                  }\r\n                  className=\"btn btn-primary btn-lg test-details-button\"\r\n                >\r\n                  {testDetails.status}\r\n                </button>\r\n              ) : null}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TestDetails;\r\n"]},"metadata":{},"sourceType":"module"}