{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\learning\\\\Learning.js\";\nimport React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport \"./Learning.css\";\nimport learningmodules from \"./images/learningmodules.png\";\nimport default_icon from \"./images/learning_module_default.png\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport Card from 'react-bootstrap/Card';\nimport ApiService from \"../../_services/ApiService\";\nimport Loader from './../../_components/loader/loader';\nimport tile from \"./images/tile.svg\";\nimport list from \"./images/list.svg\";\nimport Utils from \"../../_helpers/utils\";\nimport swal from 'sweetalert';\n\nclass Learning extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      message: null,\n      loading: false,\n      view: \"grid\",\n      isMobile: true\n    };\n    this.reloadLearningList = this.reloadLearningList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadLearningList();\n\n    if (Utils.isMobileDevice()) {\n      console.log(\"Ismobile.....\");\n      this.setState({\n        view: \"grid\",\n        isMobile: true\n      });\n    } else {\n      console.log(\"Ismobile Not.....\");\n      this.setState({\n        view: \"list\",\n        isMobile: false\n      });\n    }\n  }\n\n  reloadLearningList() {\n    this.setState({\n      loading: true\n    }, () => {\n      let portlet = JSON.parse(localStorage.getItem('portlet'));\n      let typeId = portlet.params.resourceTypeId || this.props.match.params.typeId;\n      let subTypeId = portlet.params.resourceSubTypeId || this.props.match.params.subTypeId;\n      ApiService.fetchLearning(typeId, subTypeId).then(res => {\n        this.setState({\n          loading: false,\n          list: res.data\n        });\n      });\n    });\n  }\n\n  payCheck(path, card) {\n    this.setState({\n      loading: true\n    }, () => {\n      let payLoad = {\n        \"type\": \"lms\"\n      };\n      ApiService.studentPayCheck(payLoad).then(res => {\n        this.setState({\n          loading: false\n        });\n\n        if (res.data.type == 2) {\n          const wrapper = document.createElement('div');\n          wrapper.innerHTML = res.data.message;\n          swal({\n            title: \"Alert\",\n            content: wrapper,\n            dangerMode: true,\n            buttons: true,\n            className: 'blue-card'\n          }).then(willResume => {\n            if (willResume) {}\n          });\n        } else {\n          this.props.history.push({\n            pathname: path,\n            state: {\n              card: card\n            }\n          });\n        }\n      });\n    });\n  }\n\n  routeChange(path, card) {\n    this.payCheck(path, card);\n  }\n\n  routeChange2(path, card) {\n    this.props.history.push({\n      pathname: path,\n      state: {\n        card: card\n      }\n    });\n  }\n\n  changeView(view) {\n    this.setState({\n      view: view\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    const {\n      loading\n    } = this.state;\n    let portlet = JSON.parse(localStorage.getItem('portlet'));\n    localStorage.setItem('firstVisit', true);\n    console.log(JSON.stringify(portlet));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Learning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"module-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `module-header-inner ${portlet.class ? portlet.class : 'orange-card'}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      onClick: () => this.routeChange2('/dashboard'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: learningmodules,\n      alt: \"learning logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-set\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, this.state.isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, portlet.name ? portlet.name : this.props.match.params.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 23\n      }\n    }, this.state.view === 'list' ? /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"list\",\n      src: tile,\n      className: \"border\",\n      onClick: () => this.changeView('grid'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"grid\",\n      src: list,\n      className: \"border\",\n      onClick: () => this.changeView('list'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 145\n      }\n    }))) : /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, portlet.name ? portlet.name : this.props.match.params.title))), loading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 28\n      }\n    }) : this.state.view === 'list' ? this.renderList() : this.renderGrid()));\n  }\n\n  renderList() {\n    let portlet = JSON.parse(localStorage.getItem('portlet'));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, this.state.list.sort((a, b) => a.sortOrder - b.sortOrder).map((item, index) => {\n      if (!item.icon) {\n        item.icon = default_icon;\n      }\n\n      return /*#__PURE__*/React.createElement(Card, {\n        key: index,\n        onClick: () => this.routeChange('/lesson/steps/' + item.id + '/1', item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cardbody align-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.icon,\n        alt: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, item.name))));\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, portlet.buyNow && portlet.buyNow.enableStatus === true && /*#__PURE__*/React.createElement(Card, {\n      onClick: () => this.buyNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardbody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/assets/imgs/products.png\",\n      alt: \"Buy Now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }\n    }, portlet.buyNow.displayLabel), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }))))));\n  }\n\n  renderGrid() {\n    let portlet = JSON.parse(localStorage.getItem('portlet'));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_course_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, this.state.list.sort((a, b) => a.sortOrder - b.sortOrder).map((item, index) => {\n      if (!item.icon) {\n        item.icon = default_icon;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        onClick: () => this.routeChange('/lesson/steps/' + item.id + '/1', item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"course_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: item.name,\n        src: item.icon,\n        className: \"resposive-image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 44\n        }\n      }, item.name)), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"light_blue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 23\n        }\n      }, \"Date :  \", item.creationDate)))))));\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, portlet.buyNow && portlet.buyNow.enableStatus === true && /*#__PURE__*/React.createElement(Card, {\n      onClick: () => this.buyNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardbody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/assets/imgs/products.png\",\n      alt: \"Buy Now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, portlet.buyNow.displayLabel), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }))))));\n  }\n\n  buyNow() {\n    this.props.history.push('/Products');\n  }\n\n}\n\nexport default Learning;","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/learning/Learning.js"],"names":["React","Component","Container","learningmodules","default_icon","FontAwesomeIcon","faArrowLeft","faArrowRight","Card","ApiService","Loader","Utils","swal","Learning","constructor","props","state","list","message","loading","view","isMobile","reloadLearningList","bind","componentDidMount","isMobileDevice","console","log","setState","portlet","JSON","parse","localStorage","getItem","typeId","params","resourceTypeId","match","subTypeId","resourceSubTypeId","fetchLearning","then","res","data","payCheck","path","card","payLoad","studentPayCheck","type","wrapper","document","createElement","innerHTML","title","content","dangerMode","buttons","className","willResume","history","push","pathname","routeChange","routeChange2","changeView","render","setItem","stringify","class","name","tile","renderList","renderGrid","sort","a","b","sortOrder","map","item","index","icon","id","buyNow","enableStatus","displayLabel","creationDate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport \"./Learning.css\";\r\nimport learningmodules from \"./images/learningmodules.png\";\r\nimport default_icon from \"./images/learning_module_default.png\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft,faArrowRight } from '@fortawesome/free-solid-svg-icons';\r\nimport Card from 'react-bootstrap/Card'\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport Loader from './../../_components/loader/loader';\r\nimport tile from \"./images/tile.svg\";\r\nimport list from \"./images/list.svg\";\r\nimport Utils from \"../../_helpers/utils\";\r\nimport swal from 'sweetalert';\r\n\r\nclass Learning extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: [],\r\n      message: null,\r\n      loading: false,\r\n      view: \"grid\",\r\n      isMobile:true\r\n    };\r\n    this.reloadLearningList = this.reloadLearningList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadLearningList();\r\n    if(Utils.isMobileDevice()) {\r\n      console.log(\"Ismobile.....\");\r\n      this.setState({\r\n        view: \"grid\",\r\n        isMobile:true\r\n      });  \r\n    }\r\n    else {\r\n      console.log(\"Ismobile Not.....\");\r\n      this.setState({\r\n        view: \"list\",\r\n        isMobile:false\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  reloadLearningList() {\r\n    this.setState({ loading: true }, () => {\r\n      let portlet = JSON.parse(localStorage.getItem('portlet'));\r\n      let typeId = portlet.params.resourceTypeId || this.props.match.params.typeId;\r\n      let subTypeId = portlet.params.resourceSubTypeId || this.props.match.params.subTypeId\r\n      ApiService.fetchLearning(typeId,subTypeId)\r\n      .then((res) => {\r\n          this.setState({\r\n            loading: false,\r\n            list: res.data\r\n          });\r\n      });\r\n\r\n    });\t\r\n  }\r\n\r\n  payCheck(path,card) {\r\n    this.setState({ loading: true }, () => {\r\n      let payLoad = {\r\n        \"type\": \"lms\",\r\n      };\r\n      ApiService.studentPayCheck(payLoad)\r\n      .then((res) => {\r\n          this.setState({\r\n            loading: false,\r\n          });\r\n          if(res.data.type==2){\r\n\r\n            const wrapper = document.createElement('div');\r\n            wrapper.innerHTML = res.data.message;\r\n            swal({\r\n              title: \"Alert\",\r\n              content: wrapper,\r\n              dangerMode: true,\r\n              buttons: true,\r\n              className: 'blue-card'\r\n            })\r\n            .then((willResume) => {\r\n              if (willResume) {\r\n                 \r\n              }\r\n            });\r\n          }else {\r\n            this.props.history.push({\r\n              pathname: path,\r\n              state: { card: card }\r\n            });\r\n          }\r\n      });\r\n    });\t\r\n  }\r\n\r\n  routeChange(path,card) {\r\n    this.payCheck(path,card);\r\n  }\r\n\r\n  routeChange2(path,card) {\r\n    this.props.history.push({\r\n      pathname: path,\r\n      state: { card: card }\r\n    });\r\n  }\r\n\r\n  changeView(view) {\r\n    this.setState({view: view});    \r\n  }\r\n\r\n  render() {\r\n\tconsole.log(this.props);\r\n  const { loading } = this.state;\r\n  let portlet = JSON.parse(localStorage.getItem('portlet'));\r\n  localStorage.setItem('firstVisit', true);\r\n  console.log(JSON.stringify(portlet));\r\n\r\n\treturn (\r\n      <div className=\"Learning\">\r\n        {\r\n          <Container fluid>\r\n              <div className=\"module-header\">\r\n                <div className={`module-header-inner ${portlet.class ? portlet.class : 'orange-card'}`}>\r\n                <div className=\"back\">\r\n                  <FontAwesomeIcon icon={ faArrowLeft } onClick={() => this.routeChange2('/dashboard')} />\r\n                </div>\r\n                  <img src={learningmodules} alt=\"learning logo\" /> \r\n                </div>\r\n\r\n                <div className=\"arrow-set\">\r\n                  {\r\n                    this.state.isMobile ?\r\n                    <div className=\"row\">  \r\n                      <div className=\"col-10\">\r\n                        <h3>{portlet.name ? portlet.name : this.props.match.params.title }</h3>\r\n                      </div>\r\n                      <div className=\"col-2\">\r\n                        {this.state.view === 'list'? <img alt=\"list\" src={tile} className=\"border\"  onClick={() => this.changeView('grid')} />: <img alt=\"grid\" src={list} className=\"border\"  onClick={() => this.changeView('list')}/> }\r\n                      </div>\r\n                    </div>\r\n                    :\r\n                    <h4>{portlet.name ? portlet.name : this.props.match.params.title }</h4>\r\n                  }\r\n                </div>\r\n\r\n              </div>\r\n              { loading ?  <Loader /> : this.state.view === 'list'? this.renderList() : this.renderGrid() }\r\n          </Container>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderList() {\r\n    let portlet = JSON.parse(localStorage.getItem('portlet'));\r\n\t\treturn  <div className=\"card_list\"> \r\n\t\t{\r\n\t\t  this.state.list.sort((a, b) => a.sortOrder - b.sortOrder)\r\n\t\t  .map((item, index) => {\r\n\t\t\tif(!item.icon){\r\n\t\t\t  item.icon = default_icon;\r\n\t\t\t}\r\n\t\t\treturn (\r\n        <Card key={index} onClick={() => this.routeChange('/lesson/steps/' + item.id + '/1',item)}>\r\n          <Card.Body>\r\n            <div className=\"cardbody align-center\">\r\n              <img src={item.icon} alt={item.name} />\r\n              <h4 className=\"head\">{item.name}</h4>\r\n            </div>\r\n          </Card.Body>\r\n        </Card>\r\n\t\t\t)\r\n      })       \r\n    }\r\n    <>\r\n    {\r\n      portlet.buyNow && portlet.buyNow.enableStatus===true && \r\n      <Card onClick={() => this.buyNow()}>\r\n        <Card.Body>\r\n          <div className=\"cardbody\">\r\n            <img src=\"/assets/imgs/products.png\" alt=\"Buy Now\" />\r\n            <h4 className=\"head\">{portlet.buyNow.displayLabel}</h4>\r\n            <FontAwesomeIcon icon={ faArrowRight }  />\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n    }\r\n    </>\r\n    </div>\r\n  }\r\n\r\n  renderGrid() {\r\n    let portlet = JSON.parse(localStorage.getItem('portlet'));\r\n\t\treturn  <div className=\"mobile_course_list\"> \r\n\t\t{\r\n\t\t  this.state.list.sort((a, b) => a.sortOrder - b.sortOrder)\r\n\t\t  .map((item, index) => {\r\n\t\t\tif(!item.icon){\r\n\t\t\t  item.icon = default_icon;\r\n\t\t\t}\r\n\t\t\treturn (\r\n        <div key={index} onClick={() => this.routeChange('/lesson/steps/' + item.id + '/1',item)}>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <div className=\"course_box\">\r\n                  <div className=\"card\">\r\n                    <img alt={item.name} src={item.icon} className=\"resposive-image\" />\r\n                    <div className=\"head\">\r\n                      <p className=\"title\"><strong>{item.name}</strong></p>\r\n                      <p className=\"light_blue\">Date :  {item.creationDate}</p>\r\n                    </div>\r\n                  </div> \r\n                </div>\r\n              </div> \r\n            </div>\r\n        </div>\r\n\t\t\t)\r\n      })       \r\n    }\r\n    <>\r\n    {\r\n      portlet.buyNow && portlet.buyNow.enableStatus===true && \r\n      <Card onClick={() => this.buyNow()}>\r\n        <Card.Body>\r\n          <div className=\"cardbody\">\r\n            <img src=\"/assets/imgs/products.png\" alt=\"Buy Now\" />\r\n            <h4 className=\"head\">{portlet.buyNow.displayLabel}</h4>\r\n            <FontAwesomeIcon icon={ faArrowRight }  />\r\n          </div>\r\n        </Card.Body>\r\n      </Card>\r\n    }\r\n    </>\r\n    </div>\r\n  }\r\n\r\n  buyNow() {\r\n    this.props.history.push('/Products');\r\n  }\r\n\r\n}\r\n\r\nexport default Learning;\r\n"]},"metadata":{},"sourceType":"module"}