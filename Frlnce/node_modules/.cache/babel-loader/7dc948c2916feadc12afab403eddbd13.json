{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\learning\\\\Learning.js\";\nimport React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport \"./Learning.css\";\nimport learningmodules from \"./images/learningmodules.png\";\nimport default_icon from \"./images/learning_module_default.png\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport Card from \"react-bootstrap/Card\";\nimport ApiService from \"../../_services/ApiService\";\nimport Loader from \"./../../_components/loader/loader\";\nimport tile from \"./images/tile.svg\";\nimport list from \"./images/list.svg\";\nimport Utils from \"../../_helpers/utils\";\nimport swal from \"sweetalert\";\n\nclass Learning extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      message: null,\n      loading: false,\n      view: \"grid\",\n      isMobile: true\n    };\n    this.reloadLearningList = this.reloadLearningList.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadLearningList();\n\n    if (Utils.isMobileDevice()) {\n      console.log(\"Ismobile.....\");\n      this.setState({\n        view: \"grid\",\n        isMobile: true\n      });\n    } else {\n      console.log(\"Ismobile Not.....\");\n      this.setState({\n        view: \"list\",\n        isMobile: false\n      });\n    }\n  }\n\n  reloadLearningList() {\n    this.setState({\n      loading: true\n    }, () => {\n      let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\n      let typeId = portlet.params.resourceTypeId || this.props.match.params.typeId;\n      let subTypeId = portlet.params.resourceSubTypeId || this.props.match.params.subTypeId;\n      ApiService.fetchLearning(typeId, subTypeId).then(res => {\n        this.setState({\n          loading: false,\n          list: res.data\n        });\n      });\n    });\n  }\n\n  payCheck(path, card) {\n    this.setState({\n      loading: true\n    }, () => {\n      let payLoad = {\n        type: \"lms\"\n      };\n      ApiService.studentPayCheck(payLoad).then(res => {\n        this.setState({\n          loading: false\n        });\n\n        if (res.data.type == 2) {\n          const wrapper = document.createElement(\"div\");\n          wrapper.innerHTML = res.data.message;\n          swal({\n            title: \"Alert\",\n            content: wrapper,\n            dangerMode: true,\n            buttons: true,\n            className: \"blue-card\"\n          }).then(willResume => {\n            if (willResume) {}\n          });\n        } else {\n          this.props.history.push({\n            pathname: path,\n            state: {\n              card: cards\n            }\n          });\n        }\n      });\n    });\n  }\n\n  routeChange(path, card) {\n    this.payCheck(path, card);\n  }\n\n  routeChange2(path, card) {\n    this.props.history.push({\n      pathname: path,\n      state: {\n        card: card\n      }\n    });\n  }\n\n  changeView(view) {\n    this.setState({\n      view: view\n    });\n  }\n\n  render() {\n    console.log(this.props);\n    const {\n      loading\n    } = this.state;\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\n    localStorage.setItem(\"firstVisit\", true);\n    console.log(JSON.stringify(portlet));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Learning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      fluid: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"module-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `module-header-inner ${portlet.class ? portlet.class : \"orange-card\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowLeft,\n      onClick: () => this.routeChange2(\"/dashboard\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: learningmodules,\n      alt: \"learning logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrow-set\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }\n    }, this.state.isMobile ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, portlet.name ? portlet.name : this.props.match.params.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, this.state.view === \"list\" ? /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"list\",\n      src: tile,\n      className: \"border\",\n      onClick: () => this.changeView(\"grid\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"grid\",\n      src: list,\n      className: \"border\",\n      onClick: () => this.changeView(\"list\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }))) : /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, portlet.name ? portlet.name : this.props.match.params.title))), loading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }) : this.state.view === \"list\" ? this.renderList() : this.renderGrid()));\n  }\n\n  renderList() {\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 7\n      }\n    }, this.state.list.sort((a, b) => a.sortOrder - b.sortOrder).map((item, index) => {\n      if (!item.icon) {\n        item.icon = default_icon;\n      }\n\n      return /*#__PURE__*/React.createElement(Card, {\n        key: index,\n        onClick: () => this.routeChange(\"/lesson/steps/\" + item.id + \"/1\", item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cardbody align-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: item.icon,\n        alt: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }\n      }, item.name))));\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, portlet.buyNow && portlet.buyNow.enableStatus === true && /*#__PURE__*/React.createElement(Card, {\n      onClick: () => this.buyNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardbody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/assets/imgs/products.png\",\n      alt: \"Buy Now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, portlet.buyNow.displayLabel), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n  renderGrid() {\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile_course_list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }, this.state.list.sort((a, b) => a.sortOrder - b.sortOrder).map((item, index) => {\n      if (!item.icon) {\n        item.icon = default_icon;\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        onClick: () => this.routeChange(\"/lesson/steps/\" + item.id + \"/1\", item),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"course_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: item.name,\n        src: item.icon,\n        className: \"resposive-image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 29\n        }\n      }, item.name)), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"light_blue\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 27\n        }\n      }, \"Date : \", item.creationDate)))))));\n    }), /*#__PURE__*/React.createElement(React.Fragment, null, portlet.buyNow && portlet.buyNow.enableStatus === true && /*#__PURE__*/React.createElement(Card, {\n      onClick: () => this.buyNow(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cardbody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/assets/imgs/products.png\",\n      alt: \"Buy Now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 19\n      }\n    }, portlet.buyNow.displayLabel), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n  buyNow() {\n    this.props.history.push(\"/Products\");\n  }\n\n}\n\nexport default Learning;","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/learning/Learning.js"],"names":["React","Component","Container","learningmodules","default_icon","FontAwesomeIcon","faArrowLeft","faArrowRight","Card","ApiService","Loader","Utils","swal","Learning","constructor","props","state","list","message","loading","view","isMobile","reloadLearningList","bind","componentDidMount","isMobileDevice","console","log","setState","portlet","JSON","parse","localStorage","getItem","typeId","params","resourceTypeId","match","subTypeId","resourceSubTypeId","fetchLearning","then","res","data","payCheck","path","card","payLoad","type","studentPayCheck","wrapper","document","createElement","innerHTML","title","content","dangerMode","buttons","className","willResume","history","push","pathname","cards","routeChange","routeChange2","changeView","render","setItem","stringify","class","name","tile","renderList","renderGrid","sort","a","b","sortOrder","map","item","index","icon","id","buyNow","enableStatus","displayLabel","creationDate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport \"./Learning.css\";\r\nimport learningmodules from \"./images/learningmodules.png\";\r\nimport default_icon from \"./images/learning_module_default.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport Loader from \"./../../_components/loader/loader\";\r\nimport tile from \"./images/tile.svg\";\r\nimport list from \"./images/list.svg\";\r\nimport Utils from \"../../_helpers/utils\";\r\nimport swal from \"sweetalert\";\r\n\r\nclass Learning extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: [],\r\n      message: null,\r\n      loading: false,\r\n      view: \"grid\",\r\n      isMobile: true,\r\n    };\r\n    this.reloadLearningList = this.reloadLearningList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadLearningList();\r\n    if (Utils.isMobileDevice()) {\r\n      console.log(\"Ismobile.....\");\r\n      this.setState({\r\n        view: \"grid\",\r\n        isMobile: true,\r\n      });\r\n    } else {\r\n      console.log(\"Ismobile Not.....\");\r\n      this.setState({\r\n        view: \"list\",\r\n        isMobile: false,\r\n      });\r\n    }\r\n  }\r\n\r\n  reloadLearningList() {\r\n    this.setState({ loading: true }, () => {\r\n      let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\r\n      let typeId =\r\n        portlet.params.resourceTypeId || this.props.match.params.typeId;\r\n      let subTypeId =\r\n        portlet.params.resourceSubTypeId || this.props.match.params.subTypeId;\r\n      ApiService.fetchLearning(typeId, subTypeId).then((res) => {\r\n        this.setState({\r\n          loading: false,\r\n          list: res.data,\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  payCheck(path, card) {\r\n    this.setState({ loading: true }, () => {\r\n      let payLoad = {\r\n        type: \"lms\",\r\n      };\r\n      ApiService.studentPayCheck(payLoad).then((res) => {\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n        if (res.data.type == 2) {\r\n          const wrapper = document.createElement(\"div\");\r\n          wrapper.innerHTML = res.data.message;\r\n          swal({\r\n            title: \"Alert\",\r\n            content: wrapper,\r\n            dangerMode: true,\r\n            buttons: true,\r\n            className: \"blue-card\",\r\n          }).then((willResume) => {\r\n            if (willResume) {\r\n            }\r\n          });\r\n        } else {\r\n          this.props.history.push({\r\n            pathname: path,\r\n            state: { card: cards },\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  routeChange(path, card) {\r\n    this.payCheck(path, card);\r\n  }\r\n\r\n  routeChange2(path, card) {\r\n    this.props.history.push({\r\n      pathname: path,\r\n      state: { card: card },\r\n    });\r\n  }\r\n\r\n  changeView(view) {\r\n    this.setState({ view: view });\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    const { loading } = this.state;\r\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\r\n    localStorage.setItem(\"firstVisit\", true);\r\n    console.log(JSON.stringify(portlet));\r\n\r\n    return (\r\n      <div className=\"Learning\">\r\n        {\r\n          <Container fluid>\r\n            <div className=\"module-header\">\r\n              <div\r\n                className={`module-header-inner ${\r\n                  portlet.class ? portlet.class : \"orange-card\"\r\n                }`}\r\n              >\r\n                <div className=\"back\">\r\n                  <FontAwesomeIcon\r\n                    icon={faArrowLeft}\r\n                    onClick={() => this.routeChange2(\"/dashboard\")}\r\n                  />\r\n                </div>\r\n                <img src={learningmodules} alt=\"learning logo\" />\r\n              </div>\r\n\r\n              <div className=\"arrow-set\">\r\n                {this.state.isMobile ? (\r\n                  <div className=\"row\">\r\n                    <div className=\"col-10\">\r\n                      <h3>\r\n                        {portlet.name\r\n                          ? portlet.name\r\n                          : this.props.match.params.title}\r\n                      </h3>\r\n                    </div>\r\n                    <div className=\"col-2\">\r\n                      {this.state.view === \"list\" ? (\r\n                        <img\r\n                          alt=\"list\"\r\n                          src={tile}\r\n                          className=\"border\"\r\n                          onClick={() => this.changeView(\"grid\")}\r\n                        />\r\n                      ) : (\r\n                        <img\r\n                          alt=\"grid\"\r\n                          src={list}\r\n                          className=\"border\"\r\n                          onClick={() => this.changeView(\"list\")}\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <h4>\r\n                    {portlet.name\r\n                      ? portlet.name\r\n                      : this.props.match.params.title}\r\n                  </h4>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {loading ? (\r\n              <Loader />\r\n            ) : this.state.view === \"list\" ? (\r\n              this.renderList()\r\n            ) : (\r\n              this.renderGrid()\r\n            )}\r\n          </Container>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderList() {\r\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\r\n    return (\r\n      <div className=\"card_list\">\r\n        {this.state.list\r\n          .sort((a, b) => a.sortOrder - b.sortOrder)\r\n          .map((item, index) => {\r\n            if (!item.icon) {\r\n              item.icon = default_icon;\r\n            }\r\n            return (\r\n              <Card\r\n                key={index}\r\n                onClick={() =>\r\n                  this.routeChange(\"/lesson/steps/\" + item.id + \"/1\", item)\r\n                }\r\n              >\r\n                <Card.Body>\r\n                  <div className=\"cardbody align-center\">\r\n                    <img src={item.icon} alt={item.name} />\r\n                    <h4 className=\"head\">{item.name}</h4>\r\n                  </div>\r\n                </Card.Body>\r\n              </Card>\r\n            );\r\n          })}\r\n        <>\r\n          {portlet.buyNow && portlet.buyNow.enableStatus === true && (\r\n            <Card onClick={() => this.buyNow()}>\r\n              <Card.Body>\r\n                <div className=\"cardbody\">\r\n                  <img src=\"/assets/imgs/products.png\" alt=\"Buy Now\" />\r\n                  <h4 className=\"head\">{portlet.buyNow.displayLabel}</h4>\r\n                  <FontAwesomeIcon icon={faArrowRight} />\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderGrid() {\r\n    let portlet = JSON.parse(localStorage.getItem(\"portlet\"));\r\n    return (\r\n      <div className=\"mobile_course_list\">\r\n        {this.state.list\r\n          .sort((a, b) => a.sortOrder - b.sortOrder)\r\n          .map((item, index) => {\r\n            if (!item.icon) {\r\n              item.icon = default_icon;\r\n            }\r\n            return (\r\n              <div\r\n                key={index}\r\n                onClick={() =>\r\n                  this.routeChange(\"/lesson/steps/\" + item.id + \"/1\", item)\r\n                }\r\n              >\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"course_box\">\r\n                      <div className=\"card\">\r\n                        <img\r\n                          alt={item.name}\r\n                          src={item.icon}\r\n                          className=\"resposive-image\"\r\n                        />\r\n                        <div className=\"head\">\r\n                          <p className=\"title\">\r\n                            <strong>{item.name}</strong>\r\n                          </p>\r\n                          <p className=\"light_blue\">\r\n                            Date : {item.creationDate}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        <>\r\n          {portlet.buyNow && portlet.buyNow.enableStatus === true && (\r\n            <Card onClick={() => this.buyNow()}>\r\n              <Card.Body>\r\n                <div className=\"cardbody\">\r\n                  <img src=\"/assets/imgs/products.png\" alt=\"Buy Now\" />\r\n                  <h4 className=\"head\">{portlet.buyNow.displayLabel}</h4>\r\n                  <FontAwesomeIcon icon={faArrowRight} />\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          )}\r\n        </>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  buyNow() {\r\n    this.props.history.push(\"/Products\");\r\n  }\r\n}\r\n\r\nexport default Learning;\r\n"]},"metadata":{},"sourceType":"module"}