{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\_components\\\\epub\\\\ReactReader\\\\ReactReader.js\",\n    _s = $RefreshSig$();\n\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSwipeable } from 'react-swipeable';\nimport { EpubView } from '..';\nimport defaultStyles from './style';\n\nconst Swipeable = _ref => {\n  _s();\n\n  let {\n    children,\n    ...props\n  } = _ref;\n  const handlers = useSwipeable(props);\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({}, handlers, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 10\n    }\n  }), children);\n};\n\n_s(Swipeable, \"s1FKLEkRajd7B4AvjfDQYHBDtMY=\", false, function () {\n  return [useSwipeable];\n});\n\n_c = Swipeable;\n\nclass TocItem extends PureComponent {\n  constructor() {\n    super(...arguments);\n\n    this.setLocation = () => {\n      this.props.setLocation(this.props.href);\n    };\n  }\n\n  render() {\n    const {\n      label,\n      styles\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.setLocation,\n      style: styles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 7\n      }\n    }, label);\n  }\n\n}\n\nTocItem.propTypes = {\n  label: PropTypes.string,\n  href: PropTypes.string,\n  setLocation: PropTypes.func,\n  styles: PropTypes.object\n};\n\nclass ReactReader extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.toggleToc = () => {\n      this.setState({\n        expandedToc: !this.state.expandedToc\n      });\n    };\n\n    this.next = () => {\n      const node = this.readerRef.current;\n      node.nextPage();\n    };\n\n    this.prev = () => {\n      const node = this.readerRef.current;\n      node.prevPage();\n    };\n\n    this.onTocChange = toc => {\n      const {\n        tocChanged\n      } = this.props;\n      this.setState({\n        toc: toc\n      }, () => tocChanged && tocChanged(toc));\n    };\n\n    this.setLocation = loc => {\n      const {\n        locationChanged\n      } = this.props;\n      this.setState({\n        expandedToc: false\n      }, () => locationChanged && locationChanged(loc));\n    };\n\n    this.readerRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      expandedToc: false,\n      toc: false\n    };\n  }\n\n  renderToc() {\n    const {\n      toc,\n      expandedToc\n    } = this.state;\n    const {\n      styles\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.tocArea,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.toc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, toc.map((item, i) => /*#__PURE__*/React.createElement(TocItem, Object.assign({}, item, {\n      key: i,\n      setLocation: this.setLocation,\n      styles: styles.tocAreaButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }))))), expandedToc && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.tocBackground,\n      onClick: this.toggleToc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }));\n  }\n\n  renderTocToggle() {\n    const {\n      expandedToc\n    } = this.state;\n    const {\n      styles\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      style: Object.assign({}, styles.tocButton, expandedToc ? styles.tocButtonExpanded : {}),\n      onClick: this.toggleToc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: Object.assign({}, styles.tocButtonBar, styles.tocButtonBarTop),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: Object.assign({}, styles.tocButtonBar, styles.tocButtonBottom),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  render() {\n    const {\n      title,\n      showToc,\n      loadingView,\n      styles,\n      locationChanged,\n      swipeable,\n      epubViewStyles,\n      ...props\n    } = this.props;\n    const {\n      toc,\n      expandedToc\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: Object.assign({}, styles.readerArea, expandedToc ? styles.containerExpanded : {}),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }, showToc && this.renderTocToggle(), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.titleArea,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, title), /*#__PURE__*/React.createElement(Swipeable, {\n      onSwipedRight: this.prev,\n      onSwipedLeft: this.next,\n      trackMouse: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.reader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EpubView, Object.assign({\n      ref: this.readerRef,\n      loadingView: loadingView,\n      styles: epubViewStyles\n    }, props, {\n      tocChanged: this.onTocChange,\n      locationChanged: locationChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    })), swipeable && /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.swipeWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      style: Object.assign({}, styles.arrow, styles.prev),\n      onClick: this.prev,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, \"\\u2039\"), /*#__PURE__*/React.createElement(\"button\", {\n      style: Object.assign({}, styles.arrow, styles.next),\n      onClick: this.next,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, \"\\u203A\")), showToc && toc && this.renderToc());\n  }\n\n}\n\nReactReader.defaultProps = {\n  loadingView: /*#__PURE__*/React.createElement(\"div\", {\n    style: defaultStyles.loadingView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 16\n    }\n  }, \"Loading\\u2026\"),\n  locationChanged: null,\n  tocChanged: null,\n  showToc: true,\n  styles: defaultStyles\n};\nReactReader.propTypes = {\n  title: PropTypes.string,\n  loadingView: PropTypes.element,\n  showToc: PropTypes.bool,\n  locationChanged: PropTypes.func,\n  tocChanged: PropTypes.func,\n  styles: PropTypes.object,\n  epubViewStyles: PropTypes.object,\n  swipeable: PropTypes.bool\n};\nexport default ReactReader;\n\nvar _c;\n\n$RefreshReg$(_c, \"Swipeable\");","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/_components/epub/ReactReader/ReactReader.js"],"names":["React","PureComponent","PropTypes","useSwipeable","EpubView","defaultStyles","Swipeable","children","props","handlers","TocItem","setLocation","href","render","label","styles","propTypes","string","func","object","ReactReader","constructor","toggleToc","setState","expandedToc","state","next","node","readerRef","current","nextPage","prev","prevPage","onTocChange","toc","tocChanged","loc","locationChanged","createRef","renderToc","tocArea","map","item","i","tocAreaButton","tocBackground","renderTocToggle","Object","assign","tocButton","tocButtonExpanded","tocButtonBar","tocButtonBarTop","tocButtonBottom","title","showToc","loadingView","swipeable","epubViewStyles","container","readerArea","containerExpanded","titleArea","reader","swipeWrapper","arrow","defaultProps","element","bool"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSwipeable } from 'react-swipeable'\nimport { EpubView } from '..'\nimport defaultStyles from './style'\n\nconst Swipeable = ({ children, ...props }) => {\n  const handlers = useSwipeable(props)\n  return <div {...handlers}>{children}</div>\n}\n\nclass TocItem extends PureComponent {\n  setLocation = () => {\n    this.props.setLocation(this.props.href)\n  }\n  render() {\n    const { label, styles } = this.props\n    return (\n      <button onClick={this.setLocation} style={styles}>\n        {label}\n      </button>\n    )\n  }\n}\n\nTocItem.propTypes = {\n  label: PropTypes.string,\n  href: PropTypes.string,\n  setLocation: PropTypes.func,\n  styles: PropTypes.object\n}\n\nclass ReactReader extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.readerRef = React.createRef()\n    this.state = {\n      expandedToc: false,\n      toc: false\n    }\n  }\n  toggleToc = () => {\n    this.setState({\n      expandedToc: !this.state.expandedToc\n    })\n  }\n\n  next = () => {\n    const node = this.readerRef.current\n    node.nextPage()\n  }\n\n  prev = () => {\n    const node = this.readerRef.current\n    node.prevPage()\n  }\n\n  onTocChange = toc => {\n    const { tocChanged } = this.props\n    this.setState(\n      {\n        toc: toc\n      },\n      () => tocChanged && tocChanged(toc)\n    )\n  }\n\n  renderToc() {\n    const { toc, expandedToc } = this.state\n    const { styles } = this.props\n    return (\n      <div>\n        <div style={styles.tocArea}>\n          <div style={styles.toc}>\n            {toc.map((item, i) => (\n              <TocItem\n                {...item}\n                key={i}\n                setLocation={this.setLocation}\n                styles={styles.tocAreaButton}\n              />\n            ))}\n          </div>\n        </div>\n        {expandedToc && (\n          <div style={styles.tocBackground} onClick={this.toggleToc} />\n        )}\n      </div>\n    )\n  }\n\n  setLocation = loc => {\n    const { locationChanged } = this.props\n    this.setState(\n      {\n        expandedToc: false\n      },\n      () => locationChanged && locationChanged(loc)\n    )\n  }\n\n  renderTocToggle() {\n    const { expandedToc } = this.state\n    const { styles } = this.props\n    return (\n      <button\n        style={Object.assign(\n          {},\n          styles.tocButton,\n          expandedToc ? styles.tocButtonExpanded : {}\n        )}\n        onClick={this.toggleToc}\n      >\n        <span\n          style={Object.assign({}, styles.tocButtonBar, styles.tocButtonBarTop)}\n        />\n        <span\n          style={Object.assign({}, styles.tocButtonBar, styles.tocButtonBottom)}\n        />\n      </button>\n    )\n  }\n\n  render() {\n    const {\n      title,\n      showToc,\n      loadingView,\n      styles,\n      locationChanged,\n      swipeable,\n      epubViewStyles,\n      ...props\n    } = this.props\n    const { toc, expandedToc } = this.state\n    return (\n      <div style={styles.container}>\n        <div\n          style={Object.assign(\n            {},\n            styles.readerArea,\n            expandedToc ? styles.containerExpanded : {}\n          )}\n        >\n          {showToc && this.renderTocToggle()}\n          <div style={styles.titleArea}>{title}</div>\n          <Swipeable\n            onSwipedRight={this.prev}\n            onSwipedLeft={this.next}\n            trackMouse\n          >\n            <div style={styles.reader}>\n              <EpubView\n                ref={this.readerRef}\n                loadingView={loadingView}\n                styles={epubViewStyles}\n                {...props}\n                tocChanged={this.onTocChange}\n                locationChanged={locationChanged}\n              />\n              {swipeable && <div style={styles.swipeWrapper} />}\n            </div>\n          </Swipeable>\n          <button\n            style={Object.assign({}, styles.arrow, styles.prev)}\n            onClick={this.prev}\n          >\n            ‹\n          </button>\n          <button\n            style={Object.assign({}, styles.arrow, styles.next)}\n            onClick={this.next}\n          >\n            ›\n          </button>\n        </div>\n        {showToc && toc && this.renderToc()}\n      </div>\n    )\n  }\n}\n\nReactReader.defaultProps = {\n  loadingView: <div style={defaultStyles.loadingView}>Loading…</div>,\n  locationChanged: null,\n  tocChanged: null,\n  showToc: true,\n  styles: defaultStyles\n}\n\nReactReader.propTypes = {\n  title: PropTypes.string,\n  loadingView: PropTypes.element,\n  showToc: PropTypes.bool,\n  locationChanged: PropTypes.func,\n  tocChanged: PropTypes.func,\n  styles: PropTypes.object,\n  epubViewStyles: PropTypes.object,\n  swipeable: PropTypes.bool\n}\n\nexport default ReactReader\n"]},"metadata":{},"sourceType":"module"}