{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _path = _interopRequireDefault(require(\"./path\"));\n\nvar _pathWebpack = _interopRequireDefault(require(\"path-webpack\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * creates a Url object for parsing and manipulation of a url string\n * @param\t{string} urlString\ta url string (relative or absolute)\n * @param\t{string} [baseString] optional base for the url,\n * default to window.location.href\n */\n\n\nclass Url {\n  constructor(urlString, baseString) {\n    var absolute = urlString.indexOf(\"://\") > -1;\n    var pathname = urlString;\n    var basePath;\n    this.Url = undefined;\n    this.href = urlString;\n    this.protocol = \"\";\n    this.origin = \"\";\n    this.hash = \"\";\n    this.hash = \"\";\n    this.search = \"\";\n    this.base = baseString;\n\n    if (!absolute && baseString !== false && typeof baseString !== \"string\" && window && window.location) {\n      this.base = window.location.href;\n    } // URL Polyfill doesn't throw an error if base is empty\n\n\n    if (absolute || this.base) {\n      try {\n        if (this.base) {\n          // Safari doesn't like an undefined base\n          this.Url = new URL(urlString, this.base);\n        } else {\n          this.Url = new URL(urlString);\n        }\n\n        this.href = this.Url.href;\n        this.protocol = this.Url.protocol;\n        this.origin = this.Url.origin;\n        this.hash = this.Url.hash;\n        this.search = this.Url.search;\n        pathname = this.Url.pathname + (this.Url.search ? this.Url.search : '');\n      } catch (e) {\n        // Skip URL parsing\n        this.Url = undefined; // resolve the pathname from the base\n\n        if (this.base) {\n          basePath = new _path.default(this.base);\n          pathname = basePath.resolve(pathname);\n        }\n      }\n    }\n\n    this.Path = new _path.default(pathname);\n    this.directory = this.Path.directory;\n    this.filename = this.Path.filename;\n    this.extension = this.Path.extension;\n  }\n  /**\n   * @returns {Path}\n   */\n\n\n  path() {\n    return this.Path;\n  }\n  /**\n   * Resolves a relative path to a absolute url\n   * @param {string} what\n   * @returns {string} url\n   */\n\n\n  resolve(what) {\n    var isAbsolute = what.indexOf(\"://\") > -1;\n    var fullpath;\n\n    if (isAbsolute) {\n      return what;\n    }\n\n    fullpath = _pathWebpack.default.resolve(this.directory, what);\n    return this.origin + fullpath;\n  }\n  /**\n   * Resolve a path relative to the url\n   * @param {string} what\n   * @returns {string} path\n   */\n\n\n  relative(what) {\n    return _pathWebpack.default.relative(what, this.directory);\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  toString() {\n    return this.href;\n  }\n\n}\n\nvar _default = Url;\nexports.default = _default;","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/node_modules/epubjs/lib/utils/url.js"],"names":["Object","defineProperty","exports","value","default","_path","_interopRequireDefault","require","_pathWebpack","obj","__esModule","Url","constructor","urlString","baseString","absolute","indexOf","pathname","basePath","undefined","href","protocol","origin","hash","search","base","window","location","URL","e","resolve","Path","directory","filename","extension","path","what","isAbsolute","fullpath","relative","toString","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _path = _interopRequireDefault(require(\"./path\"));\n\nvar _pathWebpack = _interopRequireDefault(require(\"path-webpack\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * creates a Url object for parsing and manipulation of a url string\n * @param\t{string} urlString\ta url string (relative or absolute)\n * @param\t{string} [baseString] optional base for the url,\n * default to window.location.href\n */\nclass Url {\n  constructor(urlString, baseString) {\n    var absolute = urlString.indexOf(\"://\") > -1;\n    var pathname = urlString;\n    var basePath;\n    this.Url = undefined;\n    this.href = urlString;\n    this.protocol = \"\";\n    this.origin = \"\";\n    this.hash = \"\";\n    this.hash = \"\";\n    this.search = \"\";\n    this.base = baseString;\n\n    if (!absolute && baseString !== false && typeof baseString !== \"string\" && window && window.location) {\n      this.base = window.location.href;\n    } // URL Polyfill doesn't throw an error if base is empty\n\n\n    if (absolute || this.base) {\n      try {\n        if (this.base) {\n          // Safari doesn't like an undefined base\n          this.Url = new URL(urlString, this.base);\n        } else {\n          this.Url = new URL(urlString);\n        }\n\n        this.href = this.Url.href;\n        this.protocol = this.Url.protocol;\n        this.origin = this.Url.origin;\n        this.hash = this.Url.hash;\n        this.search = this.Url.search;\n        pathname = this.Url.pathname + (this.Url.search ? this.Url.search : '');\n      } catch (e) {\n        // Skip URL parsing\n        this.Url = undefined; // resolve the pathname from the base\n\n        if (this.base) {\n          basePath = new _path.default(this.base);\n          pathname = basePath.resolve(pathname);\n        }\n      }\n    }\n\n    this.Path = new _path.default(pathname);\n    this.directory = this.Path.directory;\n    this.filename = this.Path.filename;\n    this.extension = this.Path.extension;\n  }\n  /**\n   * @returns {Path}\n   */\n\n\n  path() {\n    return this.Path;\n  }\n  /**\n   * Resolves a relative path to a absolute url\n   * @param {string} what\n   * @returns {string} url\n   */\n\n\n  resolve(what) {\n    var isAbsolute = what.indexOf(\"://\") > -1;\n    var fullpath;\n\n    if (isAbsolute) {\n      return what;\n    }\n\n    fullpath = _pathWebpack.default.resolve(this.directory, what);\n    return this.origin + fullpath;\n  }\n  /**\n   * Resolve a path relative to the url\n   * @param {string} what\n   * @returns {string} path\n   */\n\n\n  relative(what) {\n    return _pathWebpack.default.relative(what, this.directory);\n  }\n  /**\n   * @returns {string}\n   */\n\n\n  toString() {\n    return this.href;\n  }\n\n}\n\nvar _default = Url;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}