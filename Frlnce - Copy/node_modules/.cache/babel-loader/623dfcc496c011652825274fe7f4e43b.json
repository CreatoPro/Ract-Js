{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\resource\\\\ResourceDetails.js\";\nimport React, { Component } from \"react\"; //import {connect} from \"react-redux\";\n\nimport Parser from 'html-react-parser';\nimport \"./Resource.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport Card from 'react-bootstrap/Card'; //import {getResource} from './../../_actions/resourceActions';\n\nimport Iframe from \"../../_components/iframe/iframe\";\nimport swal from 'sweetalert';\nimport ApiService from \"../../_services/ApiService\";\nimport Loader from './../../_components/loader/loader';\nimport VideoPlayer from \"../../_components/video-player\";\nimport XAPIUtils from \"../xapi/xapiutils\";\n\nclass ResourceDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      resource: []\n    };\n    this.fetchResources = this.fetchResources.bind(this);\n  }\n\n  componentDidMount() {\n    //this.props.getResource(this.props.match.params.typeId,this.props.match.params.subTypeId);\n    let paramsString = this.props.location.search;\n    const params = new URLSearchParams(paramsString);\n    let item = params.get('item');\n    window.addEventListener('popstate', function () {\n      if (item == 1) {\n        window.history.pushState({}, '');\n        window.history.pushState(null, null, '/dashboard');\n        window.location.reload();\n      }\n    });\n    this.fetchResources();\n  }\n\n  routeChange(path) {\n    this.props.history.push(path);\n  }\n\n  fetchResources() {\n    this.setState({\n      loading: true\n    }, () => {\n      ApiService.fetchResources(this.props.match.params.typeId, this.props.match.params.subTypeId).then(res => {\n        this.setState({\n          loading: false,\n          resource: res.data\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      loading\n    } = this.state;\n    var enquiryId = localStorage.getItem('enquiryId');\n\n    if (loading == false && this.state.resource.length == 0) {\n      swal({\n        title: \"Alert\",\n        text: \"Content not Available\",\n        dangerMode: true,\n        className: this.props.location.state.portlet.class ? this.props.location.state.portlet.class : 'orange-card'\n      }).then(exitExam => {\n        this.props.history.goBack();\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message_details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, loading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 16\n      }\n    }) : this.renderCard());\n  }\n\n  renderCard() {\n    var content = \"\";\n    var video = \"\";\n    var pdf = \"\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 10\n      }\n    }, this.state.resource && this.state.resource.map((item, index) => {\n      if (item.id == this.props.match.params.id) {\n        XAPIUtils.track(item);\n\n        if (this.props.match.params.typeId == 16) {\n          if (item.url) {\n            video = /*#__PURE__*/React.createElement(\"div\", {\n              id: \"video_div\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 27\n              }\n            }, /*#__PURE__*/React.createElement(VideoPlayer, {\n              url: item.url,\n              transcripts: [],\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 47\n              }\n            }));\n          }\n\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 16\n            }\n          }, video, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 8\n            }\n          }, Parser(item.description)));\n        } else if (this.props.match.params.typeId == 13 || this.props.match.params.typeId == 6) {\n          if (item.url) {\n            pdf = /*#__PURE__*/React.createElement(\"div\", {\n              id: \"Attachment\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(\"a\", {\n              onClick: () => this.routeChange('/studyResource/' + this.props.match.params.typeId + '/' + this.props.match.params.subTypeId + '/pdf/' + item.id),\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 46\n              }\n            }, \"VIEW ATTACHMENT\"));\n          }\n\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 8\n            }\n          }, Parser(item.description)), pdf);\n        } else if (this.props.match.params.typeId == 1) {\n          if (item.url) {\n            pdf = /*#__PURE__*/React.createElement(\"div\", {\n              id: \"Attachment\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 25\n              }\n            }, /*#__PURE__*/React.createElement(\"a\", {\n              href: item.url,\n              download: true,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 46\n              }\n            }, \"VIEW ATTACHMENT\"));\n          }\n\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }\n          }, Parser(item.description)), pdf);\n        } else if (this.props.match.params.typeId == 5) {\n          var youtube = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n          var url = item.url;\n\n          if (url.match(youtube)) {\n            content = /*#__PURE__*/React.createElement(\"div\", {\n              id: \"video_div\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 16\n              }\n            }, /*#__PURE__*/React.createElement(VideoPlayer, {\n              url: url,\n              transcripts: [],\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 36\n              }\n            }));\n          } else {\n            content = /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 16\n              }\n            }, /*#__PURE__*/React.createElement(Iframe, {\n              height: \"1000\",\n              url: url,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }\n            }));\n          }\n        } else if (this.props.match.params.typeId == 3) {\n          var url = \"https://view.officeapps.live.com/op/embed.aspx?src=\" + item.url;\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(Iframe, {\n            height: \"500\",\n            url: url,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 8\n            }\n          }));\n        } else if (this.props.match.params.typeId == 31) {\n          var url = item.url;\n\n          if (url.includes(\"player\")) {\n            url = item.url;\n          } else {\n            url = new URL(item.url);\n            url = url.pathname.substring(1);\n            url = url.substring(0, url.lastIndexOf(\"/\") + 1);\n            url = \"https://player.vimeo.com/video/\" + url;\n          }\n\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            id: \"video_div\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }\n          }, \" \", /*#__PURE__*/React.createElement(VideoPlayer, {\n            url: url,\n            transcripts: [],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 38\n            }\n          }), \" \");\n        } else if (this.props.match.params.typeId == 30) {\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 8\n            }\n          }, item.name, /*#__PURE__*/React.createElement(\"a\", {\n            href: item.url,\n            style: {\n              float: 'right'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 9\n            }\n          }, \"START MEETING\")), /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 8\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 9\n            }\n          }, item.startDateTime, \"\\xA0--\\xA0\", item.endDateTime)));\n        } else {\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 8\n            }\n          }, \"No Resource Type Found!\"));\n        }\n\n        let paramsString = this.props.location.search;\n        const params = new URLSearchParams(paramsString);\n        var len = params.get('item');\n        var back_url = \"\";\n\n        if (len == 1) {\n          back_url = /*#__PURE__*/React.createElement(\"a\", {\n            href: \"/dashboard\",\n            className: \"text-white\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 16\n            }\n          }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            icon: faArrowLeft,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 60\n            }\n          }));\n        } else {\n          back_url = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            icon: faArrowLeft,\n            onClick: this.props.history.goBack,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 16\n            }\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: `module-header-step2 ${this.props.location.state ? this.props.location.state.portlet.class : 'orange-card'}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"back\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 5\n          }\n        }, back_url), /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 5\n          }\n        }, item.name)), /*#__PURE__*/React.createElement(Card, {\n          className: \"no_border_lrt\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(Card.Body, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"cardbody\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 6\n          }\n        }, content))));\n      }\n    }));\n  }\n\n}\n/*const mapStateToProps = state => ({\r\n  resource: state.resource.resource\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getResource: getResource,\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (ResourceDetails);\r\n\r\n*/\n\n\nexport default ResourceDetails;","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/resource/ResourceDetails.js"],"names":["React","Component","Parser","FontAwesomeIcon","faArrowLeft","Card","Iframe","swal","ApiService","Loader","VideoPlayer","XAPIUtils","ResourceDetails","constructor","props","state","loading","resource","fetchResources","bind","componentDidMount","paramsString","location","search","params","URLSearchParams","item","get","window","addEventListener","history","pushState","reload","routeChange","path","push","setState","match","typeId","subTypeId","then","res","data","render","enquiryId","localStorage","getItem","length","title","text","dangerMode","className","portlet","class","exitExam","goBack","renderCard","content","video","pdf","map","index","id","track","url","description","youtube","includes","URL","pathname","substring","lastIndexOf","name","float","startDateTime","endDateTime","len","back_url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n//import {connect} from \"react-redux\";\r\nimport Parser from 'html-react-parser';\r\nimport \"./Resource.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\r\nimport Card from 'react-bootstrap/Card'\r\n//import {getResource} from './../../_actions/resourceActions';\r\nimport Iframe from \"../../_components/iframe/iframe\";\r\nimport swal from 'sweetalert';\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport Loader from './../../_components/loader/loader';\r\nimport VideoPlayer from \"../../_components/video-player\";\r\nimport XAPIUtils from \"../xapi/xapiutils\";\r\n\r\nclass ResourceDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\t  loading: true,\r\n\t  resource:[]\r\n\t};\r\n\tthis.fetchResources = this.fetchResources.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.getResource(this.props.match.params.typeId,this.props.match.params.subTypeId);\r\n\tlet paramsString = this.props.location.search;\r\n    const params = new URLSearchParams(paramsString);\r\n    let item =  params.get('item');\r\n\t window.addEventListener('popstate', function() {\r\n\t if(item==1){\r\n\t   window.history.pushState({}, '');\r\n\t   window.history.pushState(null, null, '/dashboard');\r\n\t   window.location.reload();\r\n\t }\r\n\t});\r\n\tthis.fetchResources();\r\n  }\r\n\r\n  routeChange(path) {\r\n    this.props.history.push(path);\r\n  }\r\n\r\n  fetchResources() {\r\n    this.setState({ loading: true }, () => {\r\n      ApiService.fetchResources(this.props.match.params.typeId,this.props.match.params.subTypeId)\r\n      .then((res) => {\r\n          this.setState({\r\n            loading: false,\r\n            resource: res.data\r\n          });\r\n      });\r\n    });\t\r\n  }\r\n\r\n  render() {\r\n\t    const { loading } = this.state;\r\n\t    var enquiryId = localStorage.getItem('enquiryId');\r\n\t\tif(loading==false && this.state.resource.length==0 ){\r\n\t\t\t  swal({\r\n\t\t\t\ttitle: \"Alert\",\r\n\t\t\t\ttext: \"Content not Available\",\r\n\t\t\t\tdangerMode: true,\r\n\t\t\t\tclassName: this.props.location.state.portlet.class ? this.props.location.state.portlet.class : 'orange-card'\r\n\t\t\t  })\r\n\t\t\t  .then(exitExam => {\r\n\t\t\t\t this.props.history.goBack();\t\r\n\t\t\t  });\r\n\t\t}\r\n\t\treturn  <div className=\"message_details\"> \r\n\t\t{\r\n\t\t  loading ?  <Loader />: this.renderCard()\r\n\t\t}\r\n        </div>\r\n  }\r\n\r\n  renderCard() {\r\n\tvar content = \"\"; var video =\"\"; var pdf =\"\";\r\n\treturn  <div className=\"\"> \r\n\t{\r\n\t\tthis.state.resource && this.state.resource.map((item, index) => {\r\n\t\t\tif(item.id==this.props.match.params.id){\r\n\t\t\t\tXAPIUtils.track(item);\r\n\t\t\t\r\n\t\t\tif(this.props.match.params.typeId==16){\r\n\t\t\t\tif(item.url){ video = <div id=\"video_div\"><VideoPlayer url={item.url} transcripts={[]} /></div> }\r\n\t\t\t\tcontent =  <div>\r\n\t\t\t\t\t\t\t{video}\r\n\t\t\t\t\t\t\t<div id=\"content\">{Parser(item.description)}</div>\r\n\t\t\t\t\t\t\t</div>;\r\n\t\t\t}else if(this.props.match.params.typeId==13 || this.props.match.params.typeId==6){\r\n\t\t\t\tif(item.url){ pdf = <div id=\"Attachment\"><a onClick={() => this.routeChange('/studyResource/' + this.props.match.params.typeId + '/' + this.props.match.params.subTypeId + '/pdf/' + item.id)}>VIEW ATTACHMENT</a></div> }\r\n\t\t\t\tcontent = <div>\r\n\t\t\t\t\t\t\t<div id=\"content\">{Parser(item.description)}</div>\r\n\t\t\t\t\t\t\t{pdf}\r\n\t\t\t\t\t\t\t</div>;\r\n\t\t\t}else if(this.props.match.params.typeId==1){\r\n\t\t\t\tif(item.url){ pdf = <div id=\"Attachment\"><a href={item.url} download >VIEW ATTACHMENT</a></div> }\r\n\t\t\t\tcontent = <div>\r\n\t\t\t\t\t\t\t<div id=\"content\">{Parser(item.description)}</div>\r\n\t\t\t\t\t\t\t{pdf}\r\n\t\t\t\t\t\t</div>;\r\n\t\t\t}else if(this.props.match.params.typeId==5){\r\n\t\t\t\tvar youtube = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\r\n\t\t\t\tvar url = item.url\r\n\t\t\t\tif(url.match(youtube)){\r\n\t\t\t\t\tcontent = <div id=\"video_div\"><VideoPlayer url={url} transcripts={[]} /></div>\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcontent = <div><Iframe height=\"1000\" url={url} /></div>\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}else if(this.props.match.params.typeId==3){\r\n\t\t\t\tvar url =  \"https://view.officeapps.live.com/op/embed.aspx?src=\" + item.url;\r\n\t\t\t\tcontent = <div>\r\n\t\t\t\t\t\t\t<Iframe height=\"500\" url={url} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t}else if(this.props.match.params.typeId==31){\r\n\t\t\t\tvar url = item.url;\r\n\t\t\t\t\tif(url.includes(\"player\")){\r\n\t\t\t\t\turl = item.url;\r\n\t\t\t\t}else{\r\n\t\t\t\t\turl = new URL(item.url);\r\n\t\t\t\t\turl = url.pathname.substring(1);\r\n\t\t\t\t\turl = url.substring(0, url.lastIndexOf(\"/\") + 1);\r\n\t\t\t\t\turl = \"https://player.vimeo.com/video/\"+url;\r\n\t\t\t\t}\r\n\t\t\t\tcontent =   <div id=\"video_div\"> <VideoPlayer url={url} transcripts={[]} /> </div> \r\n\t\t\t}else if(this.props.match.params.typeId==30){\r\n\t\t\t\tcontent = <div>\r\n\t\t\t\t\t\t\t<div id=\"content\">{item.name}\r\n\t\t\t\t\t\t\t\t<a href={item.url} style={{float:'right'}}>START MEETING</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span>{item.startDateTime}&nbsp;--&nbsp;{item.endDateTime}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t}else{\r\n\t\t\t\tcontent = <div>\r\n\t\t\t\t\t\t\t<div id=\"content\">No Resource Type Found!</div>\r\n\t\t\t\t\t\t  </div>;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet paramsString = this.props.location.search;\r\n\t\t\tconst params = new URLSearchParams(paramsString);\r\n\t\t\tvar len =  params.get('item');\r\n\t\t\tvar back_url =\"\";\r\n\t\t\tif(len==1){\r\n\t\t\t\tback_url = <a href=\"/dashboard\" className=\"text-white\"><FontAwesomeIcon icon={ faArrowLeft } /></a> ;\r\n\t\t\t}else{\r\n\t\t\t\tback_url = <FontAwesomeIcon icon={ faArrowLeft } onClick={this.props.history.goBack} /> ;\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn ( \r\n\t\t\t\t<div key={index}>\r\n\t\t\t\t<div className={`module-header-step2 ${this.props.location.state ? this.props.location.state.portlet.class : 'orange-card'}`}>\r\n\t\t\t\t<div className=\"back\">\r\n\t\t\t\t\t{back_url}\r\n\t\t\t\t</div>\r\n\t\t\t\t<h4>{item.name}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Card className=\"no_border_lrt\">\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<div className=\"cardbody\">\r\n\t\t\t\t\t\t{content}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t\t)\r\n\t\t\t}\r\n\t\t})\r\n    }\r\n\t</div>\r\n  }\r\n\r\n}\r\n\r\n/*const mapStateToProps = state => ({\r\n  resource: state.resource.resource\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getResource: getResource,\r\n};\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (ResourceDetails);\r\n\r\n*/\r\nexport default ResourceDetails;\r\n"]},"metadata":{},"sourceType":"module"}