{"ast":null,"code":"var _jsxFileName = \"S:\\\\REACT\\\\Ract-Js\\\\Frlnce\\\\src\\\\pages\\\\login\\\\FacebookLoginComponent.jsx\";\nimport React, { Component } from \"react\";\nimport FacebookLogin from 'react-facebook-login';\nimport ApiService from \"../../_services/ApiService\";\nimport { OpenLoginTypes } from \"../../_config/config\";\nexport default class FacebookLoginComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.responseFacebook = response => {\n      //console.log(\">> FacebookLogin: \"+JSON.stringify(response));\n      this.loginWithFacebook(response);\n    };\n  }\n  /*componentDidMount() {\r\n         console.log(\"FacebookLogin --> componentDidMount...\");\r\n     }\r\n     \r\n     shouldComponentUpdate(newProps, newState) {\r\n         console.log(\"FacebookLogin --> shouldComponentUpdate...\");\r\n         return newState.showReplies != this.state.showReplies\r\n     }\r\n  \n     componentWillReceiveProps(newProps) {\r\n         if (newProps.data.show !== this.props.data.show) {\r\n           this.setState({\r\n             data: newProps.data\r\n           });\r\n         }\r\n     }*/\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(FacebookLogin, {\n      appId: \"553176341502962\",\n      autoLoad: false,\n      fields: \"name,first_name,last_name,gender,birthday,email,picture\",\n      scope: \"public_profile\",\n      callback: this.responseFacebook,\n      icon: \"fa-facebook\",\n      disableMobileRedirect: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    });\n  }\n\n  loginWithFacebook(facebookResponse) {\n    let postData = {\n      \"openId\": facebookResponse.userID,\n      \"openLoginType\": OpenLoginTypes.OPEN_LOGIN_TYPE_FACEBOOK,\n      \"deviceId\": ApiService.getDeviceId()\n    };\n    ApiService.openIdLogin(postData).then(res => {\n      //console.log(\"FacebookLogin -> openIdLogin(); res : \"+JSON.stringify(res.data));\n      if (res.data.status == 1) {\n        //console.log(\"FacebookLogin -> openIdLogin : SUCCESS...\");\n        if (res.data.data.enquiryId) {\n          localStorage.setItem('user', JSON.stringify(res.data.data));\n          this.props.history.push('/');\n        }\n      } else if (res.data.Buttonstatus == 0) {\n        console.log(\"FacebookLogin -> openIdLogin : ERROR...\" + res.data.message);\n      } else {\n        //console.log(\"FacebookLogin -> openIdLogin : REGISTER...\");\n        facebookResponse.openLoginTypeId = OpenLoginTypes.OPEN_LOGIN_TYPE_FACEBOOK;\n        sessionStorage.setItem('openIdLoginData', JSON.stringify(facebookResponse));\n        this.props.history.push('register');\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["S:/REACT/Ract-Js/Frlnce/src/pages/login/FacebookLoginComponent.jsx"],"names":["React","Component","FacebookLogin","ApiService","OpenLoginTypes","FacebookLoginComponent","constructor","props","responseFacebook","response","loginWithFacebook","render","facebookResponse","postData","userID","OPEN_LOGIN_TYPE_FACEBOOK","getDeviceId","openIdLogin","then","res","data","status","enquiryId","localStorage","setItem","JSON","stringify","history","push","Buttonstatus","console","log","message","openLoginTypeId","sessionStorage"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,cAAT,QAA+B,sBAA/B;AAEA,eAAe,MAAMC,sBAAN,SAAqCJ,SAArC,CAA+C;AAC1DK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACrB,UAAMA,KAAN;;AADqB,SAkCnBC,gBAlCmB,GAkCCC,QAAD,IAAc;AAC7B;AACA,WAAKC,iBAAL,CAAuBD,QAAvB;AACH,KArCkB;AAErB;AAED;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEIE,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,aAAD;AACI,MAAA,KAAK,EAAC,iBADV;AAEI,MAAA,QAAQ,EAAE,KAFd;AAGI,MAAA,MAAM,EAAC,yDAHX;AAII,MAAA,KAAK,EAAC,gBAJV;AAKI,MAAA,QAAQ,EAAE,KAAKH,gBALnB;AAMI,MAAA,IAAI,EAAC,aANT;AAOI,MAAA,qBAAqB,EAAE,IAP3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAUH;;AAODE,EAAAA,iBAAiB,CAACE,gBAAD,EAAmB;AAChC,QAAIC,QAAQ,GAAG;AACb,gBAASD,gBAAgB,CAACE,MADb;AAEb,uBAAgBV,cAAc,CAACW,wBAFlB;AAGb,kBAAWZ,UAAU,CAACa,WAAX;AAHE,KAAf;AAKAb,IAAAA,UAAU,CAACc,WAAX,CAAuBJ,QAAvB,EACCK,IADD,CACOC,GAAD,IAAS;AACX;AACA,UAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,IAAiB,CAArB,EAAwB;AACpB;AACA,YAAGF,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcE,SAAjB,EAA4B;AAC5BC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeP,GAAG,CAACC,IAAJ,CAASA,IAAxB,CAA7B;AACA,eAAKb,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACC;AACJ,OAND,MAMO,IAAGT,GAAG,CAACC,IAAJ,CAASS,YAAT,IAAuB,CAA1B,EAA6B;AAChCC,QAAAA,OAAO,CAACC,GAAR,CAAY,4CAA0CZ,GAAG,CAACC,IAAJ,CAASY,OAA/D;AACH,OAFM,MAGF;AACD;AACApB,QAAAA,gBAAgB,CAACqB,eAAjB,GAAmC7B,cAAc,CAACW,wBAAlD;AACAmB,QAAAA,cAAc,CAACV,OAAf,CAAuB,iBAAvB,EAA0CC,IAAI,CAACC,SAAL,CAAed,gBAAf,CAA1C;AACA,aAAKL,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH;AACJ,KAlBD;AAmBH;;AAjEyD","sourcesContent":["import React, { Component } from \"react\";\r\nimport FacebookLogin from 'react-facebook-login';\r\nimport ApiService from \"../../_services/ApiService\";\r\nimport { OpenLoginTypes } from \"../../_config/config\";\r\n\r\nexport default class FacebookLoginComponent extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\t\r\n\t/*componentDidMount() {\r\n        console.log(\"FacebookLogin --> componentDidMount...\");\r\n    }\r\n    \r\n    shouldComponentUpdate(newProps, newState) {\r\n        console.log(\"FacebookLogin --> shouldComponentUpdate...\");\r\n        return newState.showReplies != this.state.showReplies\r\n    }\r\n\r\n    componentWillReceiveProps(newProps) {\r\n        if (newProps.data.show !== this.props.data.show) {\r\n          this.setState({\r\n            data: newProps.data\r\n          });\r\n        }\r\n    }*/\r\n\r\n    render() {\r\n        return (\r\n            <FacebookLogin\r\n                appId=\"553176341502962\"\r\n                autoLoad={false}\r\n                fields=\"name,first_name,last_name,gender,birthday,email,picture\"\r\n                scope=\"public_profile\"\r\n                callback={this.responseFacebook}\r\n                icon=\"fa-facebook\" \r\n                disableMobileRedirect={true} />\r\n        );\r\n    }\r\n\r\n    responseFacebook = (response) => {\r\n        //console.log(\">> FacebookLogin: \"+JSON.stringify(response));\r\n        this.loginWithFacebook(response);\r\n    }\r\n    \r\n    loginWithFacebook(facebookResponse) {\r\n        let postData = {\r\n          \"openId\":facebookResponse.userID,\r\n          \"openLoginType\":OpenLoginTypes.OPEN_LOGIN_TYPE_FACEBOOK,\r\n          \"deviceId\":ApiService.getDeviceId()\r\n        };\r\n        ApiService.openIdLogin(postData)\r\n        .then((res) => {\r\n            //console.log(\"FacebookLogin -> openIdLogin(); res : \"+JSON.stringify(res.data));\r\n            if (res.data.status==1) {\r\n                //console.log(\"FacebookLogin -> openIdLogin : SUCCESS...\");\r\n                if(res.data.data.enquiryId) {\r\n                localStorage.setItem('user', JSON.stringify(res.data.data));\r\n                this.props.history.push('/');\r\n                }        \r\n            } else if(res.data.Buttonstatus==0) {\r\n                console.log(\"FacebookLogin -> openIdLogin : ERROR...\"+res.data.message);\r\n            }\r\n            else {\r\n                //console.log(\"FacebookLogin -> openIdLogin : REGISTER...\");\r\n                facebookResponse.openLoginTypeId = OpenLoginTypes.OPEN_LOGIN_TYPE_FACEBOOK\r\n                sessionStorage.setItem('openIdLoginData', JSON.stringify(facebookResponse));\r\n                this.props.history.push('register');       \r\n            }\r\n        });\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}